From: Thomas Renninger <trenn@suse.de>
Subject: Fix several section mismatches
References: none
Patch-Mainline: not yet

Signed-off-by: Thomas Renninger <trenn@suse.de>

---
 arch/x86/kernel/apic_64.c           |    2 +-
 arch/x86/kernel/genapic_64.c        |    4 ++--
 arch/x86/kernel/genapic_flat_64.c   |    4 ++--
 arch/x86/kernel/genx2apic_cluster.c |    2 +-
 arch/x86/kernel/genx2apic_phys.c    |    2 +-
 arch/x86/kernel/genx2apic_uv_x.c    |    2 +-
 6 files changed, 8 insertions(+), 8 deletions(-)

Index: linux-2.6.26/arch/x86/kernel/genapic_64.c
===================================================================
--- linux-2.6.26.orig/arch/x86/kernel/genapic_64.c
+++ linux-2.6.26/arch/x86/kernel/genapic_64.c
@@ -30,7 +30,7 @@ extern struct genapic apic_x2apic_cluste
 
 struct genapic __read_mostly *genapic = &apic_flat;
 
-static struct genapic *apic_probe[] __initdata = {
+static struct genapic *apic_probe[] = {
 	&apic_x2apic_uv_x,
 	&apic_x2apic_phys,
 	&apic_x2apic_cluster,
@@ -62,7 +62,7 @@ void apic_send_IPI_self(int vector)
 	__send_IPI_shortcut(APIC_DEST_SELF, vector, APIC_DEST_PHYSICAL);
 }
 
-int __init acpi_madt_oem_check(char *oem_id, char *oem_table_id)
+int acpi_madt_oem_check(char *oem_id, char *oem_table_id)
 {
 	int i;
 
Index: linux-2.6.26/arch/x86/kernel/genapic_flat_64.c
===================================================================
--- linux-2.6.26.orig/arch/x86/kernel/genapic_flat_64.c
+++ linux-2.6.26/arch/x86/kernel/genapic_flat_64.c
@@ -25,7 +25,7 @@
 #include <acpi/acpi_bus.h>
 #endif
 
-static int __init flat_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
+static int flat_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
 {
 	return 1;
 }
@@ -170,7 +170,7 @@ struct genapic apic_flat =  {
  * We cannot use logical delivery in this case because the mask
  * overflows, so use physical mode.
  */
-static int __init physflat_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
+static int physflat_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
 {
 #ifdef CONFIG_ACPI
 	/*
Index: linux-2.6.26/arch/x86/kernel/genx2apic_cluster.c
===================================================================
--- linux-2.6.26.orig/arch/x86/kernel/genx2apic_cluster.c
+++ linux-2.6.26/arch/x86/kernel/genx2apic_cluster.c
@@ -12,7 +12,7 @@
 
 DEFINE_PER_CPU(u32, x86_cpu_to_logical_apicid);
 
-static int __init x2apic_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
+static int x2apic_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
 {
 	if (cpu_has_x2apic)
 		return 1;
Index: linux-2.6.26/arch/x86/kernel/genx2apic_phys.c
===================================================================
--- linux-2.6.26.orig/arch/x86/kernel/genx2apic_phys.c
+++ linux-2.6.26/arch/x86/kernel/genx2apic_phys.c
@@ -21,7 +21,7 @@ static int set_x2apic_phys_mode(char *ar
 }
 early_param("x2apic_phys", set_x2apic_phys_mode);
 
-static int __init x2apic_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
+static int x2apic_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
 {
 	if (cpu_has_x2apic && x2apic_phys)
 		return 1;
Index: linux-2.6.26/arch/x86/kernel/genx2apic_uv_x.c
===================================================================
--- linux-2.6.26.orig/arch/x86/kernel/genx2apic_uv_x.c
+++ linux-2.6.26/arch/x86/kernel/genx2apic_uv_x.c
@@ -29,7 +29,7 @@
 
 static enum uv_system_type uv_system_type;
 
-static int __init uv_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
+static int uv_acpi_madt_oem_check(char *oem_id, char *oem_table_id)
 {
 	if (!strcmp(oem_id, "SGI")) {
 		if (!strcmp(oem_table_id, "UVL"))
Index: linux-2.6.26/arch/x86/kernel/apic_64.c
===================================================================
--- linux-2.6.26.orig/arch/x86/kernel/apic_64.c
+++ linux-2.6.26/arch/x86/kernel/apic_64.c
@@ -928,7 +928,7 @@ void enable_x2apic(void)
 	}
 }
 
-void enable_IR_x2apic(void)
+void __init enable_IR_x2apic(void)
 {
 #ifdef CONFIG_INTR_REMAP
 	int ret;
