--- linux-2.6.4/arch/ia64/kernel/irq.c.~1~	2004-03-11 03:55:44.000000000 +0100
+++ linux-2.6.4/arch/ia64/kernel/irq.c	2004-03-17 11:29:00.517909922 +0100
@@ -288,7 +288,7 @@ static void report_bad_irq(int irq, irq_
 	}
 }
 
-static int noirqdebug;
+static int noirqdebug = 1;
 
 static int __init noirqdebug_setup(char *str)
 {
@@ -299,6 +299,15 @@ static int __init noirqdebug_setup(char 
 
 __setup("noirqdebug", noirqdebug_setup);
 
+static int __init irqdebug_setup(char *str)
+{
+	noirqdebug = 0;
+	printk("IRQ lockup detection enabled\n");
+	return 1;
+}
+
+__setup("irqdebug", irqdebug_setup);
+
 /*
  * If 99,900 of the previous 100,000 interrupts have not been handled then
  * assume that the IRQ is stuck in some manner.  Drop a diagnostic and try to
