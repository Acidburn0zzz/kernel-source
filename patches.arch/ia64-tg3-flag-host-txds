diff -Nru a/drivers/net/tg3.c b/drivers/net/tg3.c
--- a/drivers/net/tg3.c	2004-05-26 11:46:57 -07:00
+++ b/drivers/net/tg3.c	2004-05-26 11:46:57 -07:00
@@ -7534,6 +7534,12 @@
 	udelay(50);
 	tg3_nvram_init(tp);
 
+#ifdef CONFIG_IA64_SGI_SN2
+	/* Always use host TXDs, it performs better in particular
+	 * with multi-frag packets.
+	 */
+	tp->tg3_flags |= TG3_FLAG_HOST_TXDS;
+#else
 	/* Determine if TX descriptors will reside in
 	 * main memory or in the chip SRAM.
 	 */
@@ -7541,6 +7547,7 @@
 	    GET_ASIC_REV(tp->pci_chip_rev_id) == ASIC_REV_5705 ||
 	    GET_ASIC_REV(tp->pci_chip_rev_id) == ASIC_REV_5750)
 		tp->tg3_flags |= TG3_FLAG_HOST_TXDS;
+#endif
 
 	grc_misc_cfg = tr32(GRC_MISC_CFG);
 	grc_misc_cfg &= GRC_MISC_CFG_BOARD_ID_MASK;
