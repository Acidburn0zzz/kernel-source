From: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Subject: Disable kernel irq balancer on bigsmp.
References: 160473
Acked-by: ak@suse.de

Disable kernel irq balancer on bigsmp. Kernel irq \balancer only works with
default less than 8 CPU mode and does not yet handle physical mode. 

Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>

diff -purN linux-2.6.16-rc6-git1-4-org/include/asm-i386/mach-bigsmp/mach_apic.h linux-2.6.16-rc6-git1-4/include/asm/mach-bigsmp/mach_apic.h
--- linux-2.6.16-rc6-git1-4-org/include/asm-i386/mach-bigsmp/mach_apic.h	2006-03-14 10:47:31.000000000 -0800
+++ linux-2.6.16-rc6-git1-4/include/asm-i386/mach-bigsmp/mach_apic.h	2006-03-27 16:36:00.000000000 -0800
@@ -31,7 +31,7 @@ static inline cpumask_t target_cpus(void
 #define APIC_DFR_VALUE		(APIC_DFR_FLAT)
 #define INT_DELIVERY_MODE	(dest_Fixed)
 #define INT_DEST_MODE		(0)    /* phys delivery to target proc */
-#define NO_BALANCE_IRQ		(0)
+#define NO_BALANCE_IRQ		(1)
 #define WAKE_SECONDARY_VIA_INIT
 
 
