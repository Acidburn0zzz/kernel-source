diff -u linux/arch/i386/Makefile-o linux/arch/i386/Makefile
--- linux/arch/i386/Makefile-o	2004-02-02 14:27:53.000000000 +0100
+++ linux/arch/i386/Makefile	2004-02-02 14:53:50.000000000 +0100
@@ -24,6 +24,8 @@
 # prevent gcc from keeping the stack 16 byte aligned
 CFLAGS += $(call check_gcc,-mpreferred-stack-boundary=2,)
 
+CFLAGS += $(call check_gcc,-funit-at-a-time,)
+
 align := $(subst -functions=0,,$(call check_gcc,-falign-functions=0,-malign-functions=0))
 
 cflags-$(CONFIG_M386)		+= -march=i386
