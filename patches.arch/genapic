diff -u linux/include/asm-i386/mach-generic/mach_apic.h-o linux/include/asm-i386/mach-generic/mach_apic.h
--- linux/include/asm-i386/mach-generic/mach_apic.h-o	2003-06-14 23:43:01.000000000 +0200
+++ linux/include/asm-i386/mach-generic/mach_apic.h	2003-06-18 11:04:16.000000000 +0200
@@ -13,6 +13,7 @@
 #define apic_id_registered (genapic->apic_id_registered)
 #define init_apic_ldr (genapic->init_apic_ldr)
 #define ioapic_phys_id_map (genapic->ioapic_phys_id_map)
+#define enable_apic_mode (genapic->enable_apic_mode)
 #define clustered_apic_check (genapic->clustered_apic_check) 
 #define multi_timer_check (genapic->multi_timer_check)
 #define apicid_to_node (genapic->apicid_to_node)
diff -u linux/include/asm-i386/genapic.h-o linux/include/asm-i386/genapic.h
--- linux/include/asm-i386/genapic.h-o	2003-05-27 03:00:41.000000000 +0200
+++ linux/include/asm-i386/genapic.h	2003-06-18 11:14:16.000000000 +0200
@@ -32,6 +32,7 @@
 	int no_balance_irq;
 	void (*init_apic_ldr)(void);
 	unsigned long (*ioapic_phys_id_map)(unsigned long map); 
+	void (*enable_apic_mode)(void);
 
 	void (*clustered_apic_check)(void);
 	int (*multi_timer_check)(int apic, int irq);
@@ -43,7 +44,7 @@
 			   struct mpc_config_translation *t); 
 	void (*setup_portio_remap)(void); 
 	int (*check_phys_apicid_present)(int boot_cpu_physical_apicid);
-
+	
 	/* mpparse */
 	void (*mpc_oem_bus_info)(struct mpc_config_bus *, char *, 
 				 struct mpc_config_translation *);
@@ -82,6 +83,7 @@
 	APICFUNC(check_apicid_present), \
 	APICFUNC(init_apic_ldr), \
 	APICFUNC(ioapic_phys_id_map), \
+	APICFUNC(enable_apic_mode),	\
 	APICFUNC(clustered_apic_check), \
 	APICFUNC(multi_timer_check), \
 	APICFUNC(apicid_to_node), \
