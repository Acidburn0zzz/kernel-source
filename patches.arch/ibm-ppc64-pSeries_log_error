diff -Nru a/arch/ppc64/kernel/chrp_setup.c b/arch/ppc64/kernel/chrp_setup.c
--- a/arch/ppc64/kernel/chrp_setup.c	Tue Apr 27 13:31:03 2004
+++ b/arch/ppc64/kernel/chrp_setup.c	Tue Apr 27 13:31:03 2004
@@ -243,6 +243,12 @@
 		ppc_md.get_irq        = xics_get_irq;
 	}
 
+#ifdef CONFIG_PPC_PSERIES
+	ppc_md.log_error = pSeries_log_error;
+#else
+	ppc_md.log_error = NULL;
+#endif
+
 	ppc_md.init           = chrp_init2;
 
 	ppc_md.pcibios_fixup  = pSeries_final_fixup;
