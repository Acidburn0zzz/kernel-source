From: edwardsg@sgi.com
Subject: wrong typedef in hdreg.h
Patch-mainline: 2.6.6
Signed-off-by: Jens Axboe <axboe@suse.de>
Suse-bugzilla: 48168

The ide_ioreg_t typedef should be an unsigned long instead of an unsigned
short, since the value gets assigned to an unsigned long.  An ide_ioreg_t is
really an address on IA64, so when it's truncated, bad things happen.

--- linux-2.6.5/include/asm-ia64/hdreg.h~	2004-11-12 08:33:58.797630252 +0100
+++ linux-2.6.5/include/asm-ia64/hdreg.h	2004-11-12 08:34:10.578348488 +0100
@@ -7,6 +7,6 @@
 #ifndef __ASM_IA64_HDREG_H
 #define __ASM_IA64_HDREG_H
 
-typedef unsigned short ide_ioreg_t;
+typedef unsigned long ide_ioreg_t;
 
 #endif /* __ASM_IA64_HDREG_H */
