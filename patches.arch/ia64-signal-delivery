# This is a BitKeeper generated diff -Nru style patch.
#
# ChangeSet
#   2004/04/13 17:19:16-07:00 davidm@tiger.hpl.hp.com 
#   ia64: When delivering a signal, force byte-order to little-endian.
# 
# arch/ia64/kernel/signal.c
#   2004/04/13 17:19:09-07:00 davidm@tiger.hpl.hp.com +1 -0
#   (setup_frame): Force byte-order in signal handler to little-endian.
# 
diff -Nru a/arch/ia64/kernel/signal.c b/arch/ia64/kernel/signal.c
--- a/arch/ia64/kernel/signal.c	Tue May 11 16:22:05 2004
+++ b/arch/ia64/kernel/signal.c	Tue May 11 16:22:05 2004
@@ -445,6 +445,7 @@
 	scr->pt.ar_fpsr = FPSR_DEFAULT;			/* reset fpsr for signal handler */
 	scr->pt.cr_iip = tramp_addr;
 	ia64_psr(&scr->pt)->ri = 0;			/* start executing in first slot */
+	ia64_psr(&scr->pt)->be = 0;			/* force little-endian byte-order */
 	/*
 	 * Force the interruption function mask to zero.  This has no effect when a
 	 * system-call got interrupted by a signal (since, in that case, scr->pt_cr_ifs is
