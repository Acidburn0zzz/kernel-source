diff -Nru linux-2.6.5-rc1/arch/x86_64/kernel/setup.c linux-2.6.5-rc1-64/arch/x86_64/kernel/setup.c
--- linux-2.6.5-rc1/arch/x86_64/kernel/setup.c	2004-03-15 21:45:20.000000000 -0800
+++ linux-2.6.5-rc1-64/arch/x86_64/kernel/setup.c	2004-03-16 19:01:41.000000000 -0800
@@ -596,8 +596,6 @@
 static void __init detect_ht(void)
 {
 #ifdef CONFIG_SMP
-	extern	int phys_proc_id[NR_CPUS];
-	
 	u32 	eax, ebx, ecx, edx;
 	int 	index_lsb, index_msb, tmp;
 	int	initial_apic_id;
@@ -1011,7 +1009,6 @@
 	
 #ifdef CONFIG_X86_HT
 	if (cpu_has_ht) {
-		extern int phys_proc_id[NR_CPUS];
 		seq_printf(m, "physical id\t: %d\n", phys_proc_id[c - cpu_data]);
 		seq_printf(m, "siblings\t: %d\n", smp_num_siblings);
 	}
diff -Nru linux-2.6.5-rc1/include/asm-x86_64/smp.h linux-2.6.5-rc1-64/include/asm-x86_64/smp.h
--- linux-2.6.5-rc1/include/asm-x86_64/smp.h	2004-03-15 21:45:17.000000000 -0800
+++ linux-2.6.5-rc1-64/include/asm-x86_64/smp.h	2004-03-16 19:01:26.000000000 -0800
@@ -48,6 +48,7 @@
 extern void zap_low_mappings(void);
 void smp_stop_cpu(void);
 extern char cpu_sibling_map[];
+extern char phys_proc_id[NR_CPUS];
 
 #define SMP_TRAMPOLINE_BASE 0x6000
 
