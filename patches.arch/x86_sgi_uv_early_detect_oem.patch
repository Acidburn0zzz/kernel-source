From: Jack Steiner <steiner@sgi.com>
Subject: x86, uv: add early detection of UV system types
References: bnc#429984
Patch-Mainline: yes

I missed one line of the UV infrastructure patch.

The code is already upstream as part of a larger UV patch
but was somehow lost from the final UV infrastructure patch that was
sent to SuSE.

This change is necessary to detect that the system is a UV system prior
to parsing the SRAT processor information.

Mainline Commit: 2e42060c19cb79adacc48beb5e9ec5361df976a2

Signed-off-by: Thomas Renninger <trenn@suse.de>

---
 arch/x86/kernel/setup.c |    2 ++
 1 file changed, 2 insertions(+)

Index: linux/arch/x86/kernel/setup.c
===================================================================
--- linux.orig/arch/x86/kernel/setup.c	2008-11-20 20:16:31.000000000 -0600
+++ linux/arch/x86/kernel/setup.c	2008-11-20 20:17:38.000000000 -0600
@@ -792,6 +792,8 @@ void __init setup_arch(char **cmdline_p)
 	 */
 	acpi_boot_table_init();
 
+	early_acpi_boot_init();
+
 #ifdef CONFIG_ACPI_NUMA
 	/*
 	 * Parse SRAT to discover nodes.
