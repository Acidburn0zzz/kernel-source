diff -u linux-2.6.7rc3-bk3/arch/x86_64/mm/ioremap.c-IOR linux-2.6.7rc3-bk3/arch/x86_64/mm/ioremap.c
--- linux-2.6.7rc3-bk3/arch/x86_64/mm/ioremap.c-IOR	2004-06-11 03:02:43.000000000 +0200
+++ linux-2.6.7rc3-bk3/arch/x86_64/mm/ioremap.c	2004-06-15 11:35:54.000000000 +0200
@@ -158,6 +158,7 @@
 	area = get_vm_area(size, VM_IOREMAP);
 	if (!area)
 		return NULL;
+	area->phys_addr = phys_addr;
 	addr = area->addr;
 	if (remap_area_pages((unsigned long) addr, phys_addr, size, flags)) {
 		vunmap(addr);
