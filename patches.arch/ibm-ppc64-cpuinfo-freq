ChangeSet
  1.1511 04/03/15 12:46:17 moilanen@zippy.ltc.austin.ibm.com +1 -0
  Fix so any processor over 2.147 GHz does not get a negative number in /proc/cpuinfo.

  arch/ppc64/kernel/setup.c
    1.64 04/03/15 12:46:08 moilanen@zippy.ltc.austin.ibm.com +2 -2
    Fix so any processor over 2.147 GHz does not get a negative number in /proc/cpuinfo.

diff -Nru a/arch/ppc64/kernel/setup.c b/arch/ppc64/kernel/setup.c
--- a/arch/ppc64/kernel/setup.c	Tue Mar 16 07:26:57 2004
+++ b/arch/ppc64/kernel/setup.c	Tue Mar 16 07:26:57 2004
@@ -393,11 +393,11 @@
 	 */
 	if (systemcfg->platform != PLATFORM_ISERIES_LPAR) {
 		struct device_node *cpu_node;
-		int *fp;
+		unsigned int *fp;
 
 		cpu_node = of_find_node_by_type(NULL, "cpu");
 		if (cpu_node) {
-			fp = (int *) get_property(cpu_node, "clock-frequency",
+			fp = (unsigned int *) get_property(cpu_node, "clock-frequency",
 						  NULL);
 			if (fp)
 				seq_printf(m, "clock\t\t: %dMHz\n",
.........................................................................
# vim: syntax=diff

