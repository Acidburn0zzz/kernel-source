Subject: Force pci=noacpi on HP XW9300
From: ak@suse.de
References: 140340
Patch-mainline: plan to submit

This is needed to see all devices.
The system has multiple PCI segments and we don't handle that properly
yet in ACPI.

Cc: len.brown@intel.com
Cc: gregkh@suse.de

Signed-off-by: Andi Kleen <ak@suse.de>

Automatically created from "patches.fixes/acpi-blacklist-xw9300" by xen-port-patches.py

Index: head-2006-05-11/arch/i386/kernel/acpi/boot-xen.c
===================================================================
--- head-2006-05-11.orig/arch/i386/kernel/acpi/boot-xen.c	2006-05-12 09:39:23.000000000 +0200
+++ head-2006-05-11/arch/i386/kernel/acpi/boot-xen.c	2006-05-12 09:41:45.000000000 +0200
@@ -1063,6 +1063,14 @@ static struct dmi_system_id __initdata a
 		     DMI_MATCH(DMI_PRODUCT_NAME, "TravelMate 360"),
 		     },
 	 },
+	{
+	 .callback = disable_acpi_pci,
+	 .ident = "HP xw9300",
+	 .matches = {
+		    DMI_MATCH(DMI_SYS_VENDOR, "Hewlett-Packard"),
+		    DMI_MATCH(DMI_PRODUCT_NAME, "HP xw9300 Workstation"),
+		    },
+	},
 	{}
 };
 
