From: ccoffing@novell.com
Subject: Expose min/max limits of domain ballooning
Patch-mainline: obsolete
References: 152667, 184727

---
 drivers/xen/balloon/balloon.c |    4 ++++
 1 file changed, 4 insertions(+)

--- a/drivers/xen/balloon/balloon.c	2007-08-27 14:01:27.000000000 -0400
+++ b/drivers/xen/balloon/balloon.c	2007-08-27 14:01:52.000000000 -0400
@@ -90,6 +90,7 @@ extern unsigned long totalhigh_pages;
 #undef totalhigh_pages
 #define totalhigh_pages(op)
 #endif
+extern unsigned long num_physpages;
 
 /* List of ballooned pages, threaded through the mem_map array. */
 static LIST_HEAD(ballooned_pages);
@@ -490,11 +491,14 @@ static int balloon_read(char *page, char
 		page,
 		"Current allocation: %8lu kB\n"
 		"Requested target:   %8lu kB\n"
+		"Minimum target:     %8lu kB\n"
+		"Maximum target:     %8lu kB\n"
 		"Low-mem balloon:    %8lu kB\n"
 		"High-mem balloon:   %8lu kB\n"
 		"Driver pages:       %8lu kB\n"
 		"Xen hard limit:     ",
 		PAGES2KB(bs.current_pages), PAGES2KB(bs.target_pages), 
+		min_target(), PAGES2KB(num_physpages),
 		PAGES2KB(bs.balloon_low), PAGES2KB(bs.balloon_high),
 		PAGES2KB(bs.driver_pages));
 
