From: jbeulich@novell.com
Subject: fix placement of some routines/data
Patch-mainline: obsolete

Index: head-2008-07-15/arch/x86/kernel/e820_32-xen.c
===================================================================
--- head-2008-07-15.orig/arch/x86/kernel/e820_32-xen.c	2008-07-15 14:29:52.000000000 +0200
+++ head-2008-07-15/arch/x86/kernel/e820_32-xen.c	2008-06-25 11:50:29.000000000 +0200
@@ -17,7 +17,7 @@
 #include <asm/setup.h>
 #include <xen/interface/memory.h>
 
-struct e820map e820;
+struct e820map __initdata e820;
 struct change_member {
 	struct e820entry *pbios; /* pointer to original bios entry */
 	unsigned long long addr; /* address for this change point */
Index: head-2008-07-15/arch/x86/mm/ioremap-xen.c
===================================================================
--- head-2008-07-15.orig/arch/x86/mm/ioremap-xen.c	2008-07-15 15:20:18.000000000 +0200
+++ head-2008-07-15/arch/x86/mm/ioremap-xen.c	2008-07-15 15:21:26.000000000 +0200
@@ -199,7 +199,8 @@ int touch_pte_range(struct mm_struct *mm
 
 EXPORT_SYMBOL(touch_pte_range);
 
-int page_is_ram(unsigned long pagenr)
+#ifdef CONFIG_X86_32
+int __init page_is_ram(unsigned long pagenr)
 {
 	resource_size_t addr, end;
 	int i;
@@ -237,6 +238,7 @@ int page_is_ram(unsigned long pagenr)
 	}
 	return 0;
 }
+#endif
 
 /*
  * Fix up the linear direct mapping of the kernel to avoid cache attribute
