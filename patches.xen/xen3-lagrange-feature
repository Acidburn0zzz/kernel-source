Subject: i386/x86-64: List Intel LaGrange AKA SMX in /proc/cpuinfo
From: ak@suse.de

Spec just got published so we know the CPUID bit.

Signed-off-by: Andi Kleen <ak@suse.de>

Automatically created from "patches.arch/lagrange-feature" by xen-port-patches.py

Index: head-2006-04-05/arch/x86_64/kernel/setup-xen.c
===================================================================
--- head-2006-04-05.orig/arch/x86_64/kernel/setup-xen.c	2006-04-06 11:53:38.000000000 +0200
+++ head-2006-04-05/arch/x86_64/kernel/setup-xen.c	2006-04-06 12:04:52.000000000 +0200
@@ -1507,7 +1507,7 @@ static int show_cpuinfo(struct seq_file 
 		NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,
 
 		/* Intel-defined (#2) */
-		"pni", NULL, NULL, "monitor", "ds_cpl", "vmx", NULL, "est",
+		"pni", NULL, NULL, "monitor", "ds_cpl", "vmx", "smx", "est",
 		"tm2", NULL, "cid", NULL, NULL, "cx16", "xtpr", NULL,
 		NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,
 		NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,
