Subject: xen3 i386 build fixes.
From: kraxel@suse.de.

$subject says all.

Index: head-2006-02-14/arch/i386/kernel/apic-xen.c
===================================================================
--- head-2006-02-14.orig/arch/i386/kernel/apic-xen.c	2006-02-14 11:04:36.000000000 +0100
+++ head-2006-02-14/arch/i386/kernel/apic-xen.c	2006-02-16 15:29:38.085576728 +0100
@@ -85,12 +85,7 @@ void ack_bad_irq(unsigned int irq)
 		ack_APIC_irq();
 }
 
-#ifdef CONFIG_XEN
-void switch_APIC_timer_to_ipi(void *cpumask) { }
-EXPORT_SYMBOL(switch_APIC_timer_to_ipi);
-void switch_ipi_to_APIC_timer(void *cpumask) { }
-EXPORT_SYMBOL(switch_ipi_to_APIC_timer);
-#else
+#ifndef CONFIG_XEN
 #ifndef CONFIG_SMP
 static void up_apic_timer_interrupt_call(struct pt_regs *regs)
 {
Index: head-2006-02-14/arch/i386/mm/init-xen.c
===================================================================
--- head-2006-02-14.orig/arch/i386/mm/init-xen.c	2006-02-14 11:01:30.000000000 +0100
+++ head-2006-02-14/arch/i386/mm/init-xen.c	2006-02-14 11:04:44.000000000 +0100
@@ -45,6 +45,10 @@
 
 extern unsigned long *contiguous_bitmap;
 
+#if defined(CONFIG_SWIOTLB)
+extern void swiotlb_init(void);
+#endif
+
 unsigned int __VMALLOC_RESERVE = 128 << 20;
 
 DEFINE_PER_CPU(struct mmu_gather, mmu_gathers);
