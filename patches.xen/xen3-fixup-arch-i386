Subject: xen3 i385 build fixes.
From: kraxel@suse.de.

--- linux-2.6.14/include/asm-i386/system.h~	2005-12-02 12:21:08.000000000 +0100
+++ linux-2.6.14/include/asm-i386/system.h	2005-12-02 12:26:26.000000000 +0100
@@ -339,7 +339,7 @@
 				      unsigned long long new)
 {
 	unsigned long long prev;
-	__asm__ __volatile__(LOCK_PREFIX "cmpxchg8b %3"
+	__asm__ __volatile__(LOCK "cmpxchg8b %3"
 			     : "=A"(prev)
 			     : "b"((unsigned long)new),
 			       "c"((unsigned long)(new >> 32)),
Index: linux-2.6.14/include/asm-i386/mach-xen/asm/pgtable.h
===================================================================
--- linux-2.6.14.orig/include/asm-i386/mach-xen/asm/pgtable.h	2005-12-02 16:41:36.000000000 +0100
+++ linux-2.6.14/include/asm-i386/mach-xen/asm/pgtable.h	2005-12-05 11:10:21.000000000 +0100
@@ -2,6 +2,7 @@
 #define _I386_PGTABLE_H
 
 #include <linux/config.h>
+#include <linux/sched.h>
 #include <asm/hypervisor.h>
 
 /*
