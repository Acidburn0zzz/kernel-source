Subject: update xen3 hypervisor headers
From: kraxel@suse.de

diff -uprN --exclude='*.o.cmd' a/include/asm-xen/xen-public/arch-ia64.h b/include/asm-xen/xen-public/arch-ia64.h
--- a/include/asm-xen/xen-public/arch-ia64.h	2005-12-07 13:20:15.000000000 +0100
+++ b/include/asm-xen/xen-public/arch-ia64.h	2005-11-11 09:47:39.000000000 +0100
@@ -38,6 +38,33 @@ typedef struct {
 
 #define INVALID_MFN       (~0UL)
 
+#define MEM_G   (1UL << 30)	
+#define MEM_M   (1UL << 20)	
+
+#define MMIO_START       (3 * MEM_G)
+#define MMIO_SIZE        (512 * MEM_M)
+
+#define VGA_IO_START     0xA0000UL
+#define VGA_IO_SIZE      0x20000
+
+#define LEGACY_IO_START  (MMIO_START + MMIO_SIZE)
+#define LEGACY_IO_SIZE   (64*MEM_M)  
+
+#define IO_PAGE_START (LEGACY_IO_START + LEGACY_IO_SIZE)
+#define IO_PAGE_SIZE  PAGE_SIZE
+
+#define STORE_PAGE_START (IO_PAGE_START + IO_PAGE_SIZE)
+#define STORE_PAGE_SIZE	 PAGE_SIZE
+
+#define IO_SAPIC_START   0xfec00000UL
+#define IO_SAPIC_SIZE    0x100000
+
+#define PIB_START 0xfee00000UL
+#define PIB_SIZE 0x100000 
+
+#define GFW_START        (4*MEM_G -16*MEM_M)
+#define GFW_SIZE         (16*MEM_M)
+
 /*
  * NB. This may become a 64-bit count with no shift. If this happens then the 
  * structure size will still be 8 bytes, so no other alignments will change.
diff -uprN --exclude='*.o.cmd' a/include/asm-xen/xen-public/dom0_ops.h b/include/asm-xen/xen-public/dom0_ops.h
--- a/include/asm-xen/xen-public/dom0_ops.h	2005-12-07 13:20:15.000000000 +0100
+++ b/include/asm-xen/xen-public/dom0_ops.h	2005-12-05 11:21:25.000000000 +0100
@@ -19,7 +19,7 @@
  * This makes sure that old versions of dom0 tools will stop working in a
  * well-defined way (rather than crashing the machine, for instance).
  */
-#define DOM0_INTERFACE_VERSION   0xAAAA1014
+#define DOM0_INTERFACE_VERSION   0x03000000
 
 /************************************************************************/
 
diff -uprN --exclude='*.o.cmd' a/include/asm-xen/xen-public/io/blkif.h b/include/asm-xen/xen-public/io/blkif.h
--- a/include/asm-xen/xen-public/io/blkif.h	2005-12-07 13:20:15.000000000 +0100
+++ b/include/asm-xen/xen-public/io/blkif.h	2005-12-05 11:21:25.000000000 +0100
@@ -10,6 +10,7 @@
 #define __XEN_PUBLIC_IO_BLKIF_H__
 
 #include "ring.h"
+#include "../grant_table.h"
 
 /*
  * Front->back notifications: When enqueuing a new request, sending a
diff -uprN --exclude='*.o.cmd' a/include/asm-xen/xen-public/io/netif.h b/include/asm-xen/xen-public/io/netif.h
--- a/include/asm-xen/xen-public/io/netif.h	2005-12-07 13:20:15.000000000 +0100
+++ b/include/asm-xen/xen-public/io/netif.h	2005-12-05 11:21:25.000000000 +0100
@@ -10,6 +10,7 @@
 #define __XEN_PUBLIC_IO_NETIF_H__
 
 #include "ring.h"
+#include "../grant_table.h"
 
 /*
  * Note that there is *never* any need to notify the backend when enqueuing
diff -uprN --exclude='*.o.cmd' a/include/asm-xen/xen-public/io/tpmif.h b/include/asm-xen/xen-public/io/tpmif.h
--- a/include/asm-xen/xen-public/io/tpmif.h	2005-12-07 13:20:15.000000000 +0100
+++ b/include/asm-xen/xen-public/io/tpmif.h	2005-12-05 11:21:25.000000000 +0100
@@ -16,6 +16,8 @@
 #ifndef __XEN_PUBLIC_IO_TPMIF_H__
 #define __XEN_PUBLIC_IO_TPMIF_H__
 
+#include "../grant_table.h"
+
 typedef struct {
     unsigned long addr;   /* Machine address of packet.   */
     grant_ref_t ref;      /* grant table access reference */
