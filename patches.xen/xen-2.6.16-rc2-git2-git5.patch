Subject: Update Xen-specific files for 2.6.16-rc2-git5
From: jbeulich@novell.com

Index: head-2006-02-09/arch/x86_64/xen/kernel/setup.c
===================================================================
--- head-2006-02-09.orig/arch/x86_64/xen/kernel/setup.c	2006-02-09 11:06:59.000000000 +0100
+++ head-2006-02-09/arch/x86_64/xen/kernel/setup.c	2006-02-09 11:12:22.000000000 +0100
@@ -130,7 +130,6 @@ EXPORT_SYMBOL(swiotlb);
 /*
  * Setup options
  */
-struct drive_info_struct { char dummy[32]; } drive_info;
 struct screen_info screen_info;
 struct sys_desc_table_struct {
 	unsigned short length;
@@ -635,7 +634,6 @@ void __init setup_arch(char **cmdline_p)
 
 #ifdef CONFIG_XEN
  	ROOT_DEV = MKDEV(RAMDISK_MAJOR,0); 
- 	drive_info = DRIVE_INFO;
 	kernel_end = 0;		/* dummy */
 #ifdef CONFIG_XEN_PHYSDEV_ACCESS
  	screen_info = SCREEN_INFO;
@@ -672,7 +670,6 @@ void __init setup_arch(char **cmdline_p)
         ARCH_SETUP
 #else
  	ROOT_DEV = old_decode_dev(ORIG_ROOT_DEV);
- 	drive_info = DRIVE_INFO;
  	screen_info = SCREEN_INFO;
 	edid_info = EDID_INFO;
 	saved_video_mode = SAVED_VIDEO_MODE;
Index: head-2006-02-09/arch/x86_64/xen/kernel/x8664_ksyms.c
===================================================================
--- head-2006-02-09.orig/arch/x86_64/xen/kernel/x8664_ksyms.c	2006-02-09 11:06:47.000000000 +0100
+++ head-2006-02-09/arch/x86_64/xen/kernel/x8664_ksyms.c	2006-02-09 11:10:59.000000000 +0100
@@ -39,11 +39,6 @@ extern void __write_lock_failed(rwlock_t
 extern void __read_lock_failed(rwlock_t *rw);
 #endif
 
-#if defined(CONFIG_BLK_DEV_IDE) || defined(CONFIG_BLK_DEV_HD) || defined(CONFIG_BLK_DEV_IDE_MODULE) || defined(CONFIG_BLK_DEV_HD_MODULE)
-extern struct drive_info_struct drive_info;
-EXPORT_SYMBOL(drive_info);
-#endif
-
 /* platform dependent support */
 EXPORT_SYMBOL(boot_cpu_data);
 //EXPORT_SYMBOL(dump_fpu);
