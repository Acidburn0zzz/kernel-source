# HG changeset 30 patch
# User kfraser@localhost.localdomain
# Date 1180964151 -3600
# Node ID 45dfe4cfc5ef81f158cbf301a10939ed66dcc483
# Parent  2bd50dc2ffbcae334c8d36f64f1ff09330242394
Subject: netback: Bit-field booleans must be unsigned.
Signed-off-by: Keir Fraser <keir@xensource.com>
Acked-by: carnold@novell.com
References: 306896

Index: linux-2.6.22/drivers/xen/netback/common.h
===================================================================
--- linux-2.6.22.orig/drivers/xen/netback/common.h
+++ linux-2.6.22/drivers/xen/netback/common.h
@@ -78,8 +78,8 @@ typedef struct netif_st {
 	int features;
 
 	/* Internal feature information. */
-	int can_queue:1;	/* can queue packets for receiver? */
-	int copying_receiver:1;	/* copy packets to receiver?       */
+	u8 can_queue:1;	/* can queue packets for receiver? */
+	u8 copying_receiver:1;	/* copy packets to receiver?       */
 
 	/* Allow netif_be_start_xmit() to peek ahead in the rx request ring. */
 	RING_IDX rx_req_cons_peek;
Index: linux-2.6.22/drivers/xen/netback/netback.c
===================================================================
--- linux-2.6.22.orig/drivers/xen/netback/netback.c
+++ linux-2.6.22/drivers/xen/netback/netback.c
@@ -46,7 +46,7 @@
 struct netbk_rx_meta {
 	skb_frag_t frag;
 	int id;
-	int copy:1;
+	u8 copy:1;
 };
 
 static void netif_idx_release(u16 pending_idx);
