Subject: Fix xen configuration.
From: jbeulich@novell.com
Patch-mainline: obsolete

Index: head-2007-12-11/drivers/cpufreq/Kconfig
===================================================================
--- head-2007-12-11.orig/drivers/cpufreq/Kconfig	2007-12-11 10:45:47.000000000 +0100
+++ head-2007-12-11/drivers/cpufreq/Kconfig	2007-12-11 10:45:49.000000000 +0100
@@ -1,5 +1,6 @@
 config CPU_FREQ
 	bool "CPU Frequency scaling"
+	depends on !XEN
 	help
 	  CPU Frequency scaling allows you to change the clock speed of 
 	  CPUs on the fly. This is a nice method to save power, because 
Index: head-2007-12-11/drivers/video/Kconfig
===================================================================
--- head-2007-12-11.orig/drivers/video/Kconfig	2007-12-11 10:45:47.000000000 +0100
+++ head-2007-12-11/drivers/video/Kconfig	2007-12-11 10:45:49.000000000 +0100
@@ -1541,7 +1541,7 @@ config FB_CYBLA
 	tristate "Cyberblade/i1 support"
 	depends on FB && PCI && X86_32 && !64BIT
 	select FB_CFB_IMAGEBLIT
-	select VIDEO_SELECT
+	select VIDEO_SELECT if !XEN
 	---help---
 	  This driver is supposed to support the Trident Cyberblade/i1
 	  graphics core integrated in the VIA VT8601A North Bridge,
Index: head-2007-12-11/kernel/power/Kconfig
===================================================================
--- head-2007-12-11.orig/kernel/power/Kconfig	2007-12-11 10:45:47.000000000 +0100
+++ head-2007-12-11/kernel/power/Kconfig	2007-12-11 10:45:49.000000000 +0100
@@ -100,13 +100,13 @@ config SUSPEND
 config HIBERNATION_UP_POSSIBLE
 	bool
 	depends on X86 || PPC64_SWSUSP || PPC32
-	depends on !SMP
+	depends on !SMP && !XEN
 	default y
 
 config HIBERNATION_SMP_POSSIBLE
 	bool
 	depends on (X86 && !X86_VOYAGER) || PPC64_SWSUSP
-	depends on SMP
+	depends on SMP && !XEN
 	default y
 
 config HIBERNATION
