--- 2.6.0-test9/arch/um/drivers/stdio_console.c.arg	2003-10-30 15:02:53.000000000 +0100
+++ 2.6.0-test9/arch/um/drivers/stdio_console.c	2003-10-30 15:03:30.000000000 +0100
@@ -230,7 +230,8 @@
 
 static int console_chan_setup(char *str)
 {
-	line_setup(vts, sizeof(vts)/sizeof(vts[0]), str, 1);
+	if (0 != line_setup(vts, sizeof(vts)/sizeof(vts[0]), str, 1))
+		return 0;
 	return(1);
 }
 
