--- linux-2.6.8-uml/arch/um/kernel/ksyms.c.268	2004-08-19 13:23:28.133018388 +0200
+++ linux-2.6.8-uml/arch/um/kernel/ksyms.c	2004-08-19 13:23:41.690813358 +0200
@@ -87,7 +87,6 @@
 EXPORT_SYMBOL(os_create_unix_socket);
 EXPORT_SYMBOL(os_connect_socket);
 EXPORT_SYMBOL(os_accept_connection);
-EXPORT_SYMBOL(os_ioctl_generic);
 EXPORT_SYMBOL(os_rcv_fd);
 EXPORT_SYMBOL(run_helper);
 EXPORT_SYMBOL(start_thread);
--- linux-2.6.8-uml/arch/um/drivers/stdio_console.c.268	2004-08-19 13:27:03.451996379 +0200
+++ linux-2.6.8-uml/arch/um/drivers/stdio_console.c	2004-08-19 13:30:02.351893820 +0200
@@ -203,7 +203,7 @@
 		up(&line->sem);
 }
 
-static struct tty_driver *console_device(struct console *c, int *index)
+static struct tty_driver *console_dev(struct console *c, int *index)
 {
 	*index = c->index;
 	return console_driver;
@@ -217,7 +217,7 @@
 static struct console stdiocons = {
 	name:		"tty",
 	write:		console_write,
-	device:		console_device,
+	device:		console_dev,
 	setup:		console_setup,
 	flags:		CON_PRINTBUFFER,
 	index:		-1,
--- linux-2.6.8-uml/arch/um/sys-i386/Makefile.268	2004-08-19 14:05:20.974414711 +0200
+++ linux-2.6.8-uml/arch/um/sys-i386/Makefile	2004-08-19 14:09:21.056385590 +0200
@@ -1,5 +1,6 @@
 obj-y = bugs.o checksum.o fault.o ksyms.o ldt.o ptrace.o ptrace_user.o \
-	semaphore.o sigcontext.o syscalls.o sysrq.o
+	semaphore.o sigcontext.o syscalls.o sysrq.o bitops.o
+bitops-y = ../../i386/lib/bitops.o
 
 obj-$(CONFIG_HIGHMEM) += highmem.o
 obj-$(CONFIG_MODULES) += module.o
