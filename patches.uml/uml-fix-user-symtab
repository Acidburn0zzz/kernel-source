--- linux-um-2.6.3/arch/um/kernel/user_syms.c.uml	2004-02-26 21:20:51.202244050 +0100
+++ linux-um-2.6.3/arch/um/kernel/user_syms.c	2004-02-26 21:21:06.599701859 +0100
@@ -57,6 +57,7 @@
 	__attribute__((section("__ksymtab_strings")))		\
 	= MODULE_SYMBOL_PREFIX #sym;                    	\
 	static const struct kernel_symbol __ksymtab_##sym	\
+	__attribute_used__					\
 	__attribute__((section("__ksymtab" sec), unused))	\
 	= { (unsigned long)&sym, __kstrtab_##sym }
 
