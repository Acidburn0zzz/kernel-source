#
# hacked uname in abuild seems to return lowercase "linux" on "uname -s",
# which in turn breaks the uml Makefiles.  As uml-on-non-linux-os
# doesn't work anyway (yet?) we simply drop the uname call ...
#
--- linux-2.6.5/arch/um/Makefile.uname	2004-05-18 11:31:43.614465963 +0200
+++ linux-2.6.5/arch/um/Makefile	2004-05-18 11:32:00.962476507 +0200
@@ -4,7 +4,7 @@
 #
 
 ARCH_DIR = arch/um
-OS := $(shell uname -s)
+OS := Linux
 
 # Recalculate MODLIB to reflect the EXTRAVERSION changes (via KERNELRELEASE)
 # The way the toplevel Makefile is written EXTRAVERSION is not supposed
