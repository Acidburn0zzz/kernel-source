Subject: Fix uml build with 2.6.18+ kernel headers.
From: kraxel@suse.de

Someone wrapped the syscall defines into #ifdef __KERNEL__,
breaking the uml kernel build.  Workaround that.

---
 arch/um/os-Linux/process.c      |    4 ++++
 arch/um/os-Linux/sys-i386/tls.c |    4 ++++
 2 files changed, 8 insertions(+)

Index: linux-2.6.18/arch/um/os-Linux/process.c
===================================================================
--- linux-2.6.18.orig/arch/um/os-Linux/process.c
+++ linux-2.6.18/arch/um/os-Linux/process.c
@@ -3,6 +3,10 @@
  * Licensed under the GPL
  */
 
+#define __KERNEL__ /* need _syscall0 */
+#include <asm/unistd.h>
+#undef __KERNEL__
+
 #include <unistd.h>
 #include <stdio.h>
 #include <errno.h>
Index: linux-2.6.18/arch/um/os-Linux/sys-i386/tls.c
===================================================================
--- linux-2.6.18.orig/arch/um/os-Linux/sys-i386/tls.c
+++ linux-2.6.18/arch/um/os-Linux/sys-i386/tls.c
@@ -1,3 +1,7 @@
+#define __KERNEL__ /* need _syscall1 */
+#include <asm/unistd.h>
+#undef __KERNEL__
+
 #include <errno.h>
 #include <linux/unistd.h>
 #include "sysdep/tls.h"
