Date: Wed, 08 Sep 2004 11:51:10 +0200
From: Marcel holtman <marcel@holtmann.org>
Subject: Check checksums for BNEP

# This is a BitKeeper generated diff -Nru style patch.
#
# ChangeSet
#   2004/09/08 11:51:10+02:00 marcel@holtmann.org 
#   [Bluetooth] Check checksums for BNEP
#   
#   The checking of the checksums is needed, because with certain Bluetooth
#   hardware there are failures which aren't caught otherwise.
#   
#   Signed-off-by: David Woodhouse <dwmw2@infradead.org>
#   Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
# 
# net/bluetooth/bnep/core.c
#   2004/09/08 11:48:06+02:00 marcel@holtmann.org +1 -1
#   Check checksums for BNEP
# 
diff -Nru a/net/bluetooth/bnep/core.c b/net/bluetooth/bnep/core.c
--- a/net/bluetooth/bnep/core.c	2004-09-08 11:53:17 +02:00
+++ b/net/bluetooth/bnep/core.c	2004-09-08 11:53:17 +02:00
@@ -384,7 +384,7 @@
 	
 	s->stats.rx_packets++;
 	nskb->dev       = dev;
-	nskb->ip_summed = CHECKSUM_UNNECESSARY;
+	nskb->ip_summed = CHECKSUM_NONE;
 	nskb->protocol  = eth_type_trans(nskb, dev);
 	netif_rx_ni(nskb);
 	return 0;
