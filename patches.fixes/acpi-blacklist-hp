diff -urNp linux-2.6.5/arch/i386/kernel/dmi_scan.c linux-2.6.5.SUSE/arch/i386/kernel/dmi_scan.c
--- linux-2.6.5/arch/i386/kernel/dmi_scan.c	2004-04-06 09:40:14.000000000 +0200
+++ linux-2.6.5.SUSE/arch/i386/kernel/dmi_scan.c	2004-05-06 17:40:53.000000000 +0200
@@ -572,6 +572,19 @@
 	acpi_noirq_set();
 	return 0;
 } 
+
+static __init int hp_ht_bigsmp(struct dmi_blacklist *d) 
+{ 
+#ifdef CONFIG_X86_GENERICARCH
+	extern int dmi_bigsmp;
+	printk(KERN_NOTICE "%s detected: force use of apic=bigsmp\n", d->ident);
+	dmi_bigsmp = 1;
+#else
+	/* printk(KERN_NOTICE "%s detected: force use of pci=noacpi\n", d->ident); */
+#endif
+	/* acpi_noirq_set(); */
+	return 0;
+} 
 #endif
 
 /*
@@ -966,21 +966,6 @@ static __initdata struct dmi_blacklist d
 			MATCH(DMI_PRODUCT_NAME, "HP VISUALIZE NT Workstation"),
 			NO_MATCH, NO_MATCH }},
 
-	{ force_acpi_ht, "Compaq ProLiant DL380 G2", {
-			MATCH(DMI_SYS_VENDOR, "Compaq"),
-			MATCH(DMI_PRODUCT_NAME, "ProLiant DL380 G2"),
-			NO_MATCH, NO_MATCH }},
-
-	{ force_acpi_ht, "Compaq ProLiant ML530 G2", {
-			MATCH(DMI_SYS_VENDOR, "Compaq"),
-			MATCH(DMI_PRODUCT_NAME, "ProLiant ML530 G2"),
-			NO_MATCH, NO_MATCH }},
-
-	{ force_acpi_ht, "Compaq ProLiant ML350 G3", {
-			MATCH(DMI_SYS_VENDOR, "Compaq"),
-			MATCH(DMI_PRODUCT_NAME, "ProLiant ML350 G3"),
-			NO_MATCH, NO_MATCH }},
-
 	{ force_acpi_ht, "Compaq Workstation W8000", {
 			MATCH(DMI_SYS_VENDOR, "Compaq"),
 			MATCH(DMI_PRODUCT_NAME, "Workstation W8000"),
@@ -1017,6 +1031,17 @@
 #endif	// CONFIG_ACPI_BOOT
 
 #ifdef	CONFIG_ACPI_PCI
+
+	{ hp_ht_bigsmp, "HP ProLiant DL760 G2", {
+			MATCH(DMI_BIOS_VENDOR, "HP"),
+			MATCH(DMI_BIOS_VERSION, "P44-"),
+			NO_MATCH, NO_MATCH }},
+
+	{ hp_ht_bigsmp, "HP ProLiant DL740", {
+			MATCH(DMI_BIOS_VENDOR, "HP"),
+			MATCH(DMI_BIOS_VERSION, "P47-"),
+			NO_MATCH, NO_MATCH }},
+
 	/*
 	 *	Boxes that need ACPI PCI IRQ routing disabled
 	 */
--- linux-2.6.5/arch/i386/kernel/io_apic.c~	2004-04-21 12:03:44.000000000 +0200
+++ linux-2.6.5/arch/i386/kernel/io_apic.c	2004-05-06 17:24:24.000000000 +0200
@@ -1753,7 +1753,7 @@
 		reg_00.raw = io_apic_read(apic, 0);
 		spin_unlock_irqrestore(&ioapic_lock, flags);
 		if (reg_00.bits.ID != mp_ioapics[apic].mpc_apicid)
-			panic("could not set ID!\n");
+			printk(" could not set ID!\n");
 		else
 			printk(" ok.\n");
 	}
