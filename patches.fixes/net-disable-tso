From: okir@suse.de

This patch turns off TSO for all network devices by default, because
TSO performance in current kernels is so bad (bug #45666).

Once this gets fixed, we can remove this hack again.

Index: linux-2.6.8/net/core/dev.c
===================================================================
--- linux-2.6.8.orig/net/core/dev.c	2004-09-20 13:49:58.000000000 +0200
+++ linux-2.6.8/net/core/dev.c	2004-09-21 12:27:11.000000000 +0200
@@ -2943,6 +2943,12 @@ int register_netdevice(struct net_device
 		dev->features &= ~NETIF_F_SG;
 	}
 
+	if (dev->features & NETIF_F_TSO) {
+		printk("%s: TCP Segmentation Offload (TSO) disabled by default\n",
+			dev->name);
+		dev->features &= ~NETIF_F_TSO;
+	}
+
 	/*
 	 *	nil rebuild_header routine,
 	 *	that should be never called and used as just bug trap.
