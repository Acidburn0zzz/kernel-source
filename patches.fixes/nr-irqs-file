From: schwab@suse.de
Subject: Fix asm/nr-irqs.h location

diff --git a/arch/ia64/Makefile b/arch/ia64/Makefile
index 905d25b..1e89ee2 100644
--- a/arch/ia64/Makefile
+++ b/arch/ia64/Makefile
@@ -105,4 +105,4 @@ archprepare: make_nr_irqs_h FORCE
 PHONY += make_nr_irqs_h FORCE
 
 make_nr_irqs_h: FORCE
-	$(Q)$(MAKE) $(build)=arch/ia64/kernel arch/ia64/include/asm/nr-irqs.h
+	$(Q)$(MAKE) $(build)=arch/ia64/kernel include/asm/nr-irqs.h
diff --git a/arch/ia64/kernel/Makefile b/arch/ia64/kernel/Makefile
index 87fea11..6770edc 100644
--- a/arch/ia64/kernel/Makefile
+++ b/arch/ia64/kernel/Makefile
@@ -100,11 +100,11 @@ arch/$(SRCARCH)/kernel/nr-irqs.s: $(srctree)/arch/$(SRCARCH)/kernel/nr-irqs.c \
 	$(Q)mkdir -p $(dir $@)
 	$(call if_changed_dep,cc_s_c)
 
-arch/ia64/include/asm/nr-irqs.h: arch/$(SRCARCH)/kernel/nr-irqs.s
+include/asm/nr-irqs.h: arch/$(SRCARCH)/kernel/nr-irqs.s
 	$(Q)mkdir -p $(dir $@)
 	$(call cmd,nr_irqs)
 
-clean-files += $(objtree)/arch/ia64/include/asm/nr-irqs.h
+MRPROPER_FILES += include/asm/nr-irqs.h
 
 #
 # native ivt.S and entry.S
