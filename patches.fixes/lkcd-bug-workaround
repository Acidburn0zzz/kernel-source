diff -Nur linux-2.6.5-7.69-before/arch/ia64/sn/io/machvec/pci_bus_cvlink.c linux-2.6.5-7.69-after/arch/ia64/sn/io/machvec/pci_bus_cvlink.c
--- linux-2.6.5-7.69-before/arch/ia64/sn/io/machvec/pci_bus_cvlink.c	2004-04-04 09:07:40.000000000 +0530
+++ linux-2.6.5-7.69-after/arch/ia64/sn/io/machvec/pci_bus_cvlink.c	2004-06-10 22:33:33.974983928 +0530
@@ -713,7 +713,7 @@
 			/* Is this PCI bus associated with this moduleid? */
 			moduleid = NODE_MODULEID(
 				NASID_TO_COMPACT_NODEID(pcibr_soft->bs_nasid));
-			if (modules[i]->id == moduleid) {
+			if (sn_modules[i]->id == moduleid) {
 				struct pcibr_list_s *new_element;
 
 				new_element = kmalloc(sizeof (struct pcibr_soft_s), GFP_KERNEL);
@@ -753,7 +753,7 @@
 				
 		/*
 		 * We now have a list of all the pci bridges associated with
-		 * the module_id, modules[i].  Call pci_bus_map_create() for
+		 * the module_id, sn_modules[i].  Call pci_bus_map_create() for
 		 * each pci bridge
 		 */
 		softlistp = first_in_list;
Binary files linux-2.6.5-7.69-before/arch/ia64/sn/io/machvec/.pci_bus_cvlink.c.rej.swp and linux-2.6.5-7.69-after/arch/ia64/sn/io/machvec/.pci_bus_cvlink.c.rej.swp differ
diff -Nur linux-2.6.5-7.69-before/arch/ia64/sn/io/sn2/klgraph.c linux-2.6.5-7.69-after/arch/ia64/sn/io/sn2/klgraph.c
--- linux-2.6.5-7.69-before/arch/ia64/sn/io/sn2/klgraph.c	2004-04-04 09:07:25.000000000 +0530
+++ linux-2.6.5-7.69-after/arch/ia64/sn/io/sn2/klgraph.c	2004-06-10 22:14:54.065236088 +0530
@@ -527,7 +527,7 @@
 		/* Use module as module vertex fastinfo */
 
 		memset(buffer, 0, 16);
-		format_module_id(buffer, modules[cm]->id, MODULE_FORMAT_BRIEF);
+		format_module_id(buffer, sn_modules[cm]->id, MODULE_FORMAT_BRIEF);
 		sprintf(name, EDGE_LBL_MODULE "/%s", buffer);
 
 		rc = hwgraph_path_add(hwgraph_root, name, &module_vhdl);
@@ -535,7 +535,7 @@
 		rc = rc;
 		HWGRAPH_DEBUG(__FILE__, __FUNCTION__, __LINE__, module_vhdl, NULL, "Created module path.\n");
 
-		hwgraph_fastinfo_set(module_vhdl, (arbitrary_info_t) modules[cm]);
+		hwgraph_fastinfo_set(module_vhdl, (arbitrary_info_t) sn_modules[cm]);
 
 		/* Add system controller */
 		sprintf(name,
diff -Nur linux-2.6.5-7.69-before/arch/ia64/sn/io/sn2/module.c linux-2.6.5-7.69-after/arch/ia64/sn/io/sn2/module.c
--- linux-2.6.5-7.69-before/arch/ia64/sn/io/sn2/module.c	2004-04-04 09:06:16.000000000 +0530
+++ linux-2.6.5-7.69-after/arch/ia64/sn/io/sn2/module.c	2004-06-10 22:14:54.066235936 +0530
@@ -33,7 +33,7 @@
 #define DPRINTF(x...)
 #endif
 
-module_t	       *modules[MODULE_MAX];
+module_t	       *sn_modules[MODULE_MAX];
 int			nummodules;
 
 #define SN00_SERIAL_FUDGE	0x3b1af409d513c2
@@ -59,9 +59,9 @@
     int			i;
 
     for (i = 0; i < nummodules; i++)
-	if (modules[i]->id == id) {
-	    DPRINTF("module_lookup: found m=0x%p\n", modules[i]);
-	    return modules[i];
+	if (sn_modules[i]->id == id) {
+	    DPRINTF("module_lookup: found m=0x%p\n", sn_modules[i]);
+	    return sn_modules[i];
 	}
 
     return NULL;
@@ -104,10 +104,10 @@
 
 	/* Insert in sorted order by module number */
 
-	for (i = nummodules; i > 0 && modules[i - 1]->id > moduleid; i--)
-	    modules[i] = modules[i - 1];
+	for (i = nummodules; i > 0 && sn_modules[i - 1]->id > moduleid; i--)
+	    sn_modules[i] = sn_modules[i - 1];
 
-	modules[i] = m;
+	sn_modules[i] = m;
 	nummodules++;
     }
 
diff -Nur linux-2.6.5-7.69-before/include/asm-ia64/sn/module.h linux-2.6.5-7.69-after/include/asm-ia64/sn/module.h
--- linux-2.6.5-7.69-before/include/asm-ia64/sn/module.h	2004-04-04 09:06:55.000000000 +0530
+++ linux-2.6.5-7.69-after/include/asm-ia64/sn/module.h	2004-06-10 22:14:54.066235936 +0530
@@ -180,7 +180,7 @@
 };
 
 /* module.c */
-extern module_t	       *modules[MODULE_MAX];	/* Indexed by cmoduleid_t   */
+extern module_t	       *sn_modules[MODULE_MAX];	/* Indexed by cmoduleid_t   */
 extern int		nummodules;
 
 extern module_t	       *module_lookup(moduleid_t id);
