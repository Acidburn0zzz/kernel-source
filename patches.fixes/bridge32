diff -u linux-2.6.5rc2-amd64/include/linux/compat_ioctl.h-o linux-2.6.5rc2-amd64/include/linux/compat_ioctl.h
--- linux-2.6.5rc2-amd64/include/linux/compat_ioctl.h-o	2004-03-21 21:11:55.000000000 +0100
+++ linux-2.6.5rc2-amd64/include/linux/compat_ioctl.h	2004-03-25 02:13:00.000000000 +0100
@@ -248,10 +248,6 @@
 COMPATIBLE_IOCTL(SIOCSIFENCAP)
 COMPATIBLE_IOCTL(SIOCGIFENCAP)
 COMPATIBLE_IOCTL(SIOCSIFNAME)
-/* FIXME: not compatible
-COMPATIBLE_IOCTL(SIOCSIFBR)
-COMPATIBLE_IOCTL(SIOCGIFBR)
-*/
 COMPATIBLE_IOCTL(SIOCSARP)
 COMPATIBLE_IOCTL(SIOCGARP)
 COMPATIBLE_IOCTL(SIOCDARP)
diff -u linux-2.6.5rc2-amd64/fs/compat_ioctl.c-o linux-2.6.5rc2-amd64/fs/compat_ioctl.c
--- linux-2.6.5rc2-amd64/fs/compat_ioctl.c-o	2004-03-21 21:12:02.000000000 +0100
+++ linux-2.6.5rc2-amd64/fs/compat_ioctl.c	2004-03-25 02:14:27.000000000 +0100
@@ -3065,6 +3065,20 @@
 	return sys_ioctl(fd, cmd, (unsigned long) iwr);
 }
 
+/* Emulate old style bridge ioctls */
+static int do_bridge_ioctl(unsigned int fd, unsigned int cmd, unsigned long arg)
+{
+	u32 tmp;
+	unsigned long *argbuf = compat_alloc_user_space(3 * sizeof(unsigned long)); 
+	int i;	
+	for (i = 0; i < 3; i++) {
+		if (get_user(tmp, i + ((u32 *)arg)) ||
+		    put_user(tmp, i + argbuf))
+			return -EFAULT;
+	}
+	return sys_ioctl(fd, cmd, (unsigned long)argbuf);
+}
+
 #undef CODE
 #endif
 
@@ -3242,6 +3256,8 @@
 HANDLE_IOCTL(SIOCGIWNICKN, do_wireless_ioctl)
 HANDLE_IOCTL(SIOCSIWENCODE, do_wireless_ioctl)
 HANDLE_IOCTL(SIOCGIWENCODE, do_wireless_ioctl)
+HANDLE_IOCTL(SIOCSIFBR, do_bridge_ioctl)
+HANDLE_IOCTL(SIOCGIFBR, do_bridge_ioctl)
 
 #undef DECLARES
 #endif
