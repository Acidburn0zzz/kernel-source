diff -urNp linux-2.6.5/drivers/net/eql.c linux-2.6.5.SUSE/drivers/net/eql.c
--- linux-2.6.5/drivers/net/eql.c	2004-04-04 05:38:13.000000000 +0200
+++ linux-2.6.5.SUSE/drivers/net/eql.c	2004-06-18 17:23:00.934215700 +0200
@@ -503,6 +503,8 @@ static int eql_g_slave_cfg(struct net_de
 	slave_dev = dev_get_by_name(sc.slave_name);
 
 	ret = -EINVAL;
+	if (!slave_dev)
+		return ret;
 
 	spin_lock_bh(&eql->queue.lock);
 	if (eql_is_slave(slave_dev)) {
@@ -537,6 +539,8 @@ static int eql_s_slave_cfg(struct net_de
 	slave_dev = dev_get_by_name(sc.slave_name);
 
 	ret = -EINVAL;
+	if (!slave_dev)
+		return ret;
 
 	spin_lock_bh(&eql->queue.lock);
 	if (eql_is_slave(slave_dev)) {
