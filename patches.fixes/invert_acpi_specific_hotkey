From: thoenig@suse.de
Subject: Notebook drivers are no longer working.
Patch-mainline: no
References: 99259

The following drivers are no longer working due to the introduction of the
generic ACPI hotkey driver:

   * ASUS ACPI (drivers/acpi/asus_acpi.c)
   * Toshiba ACPI (drivers/acpi/toshiba_acpi.c)

Both drivers not only provide support for hotkeys but also provide hardware
functions (e.g. change display brightness). We have support for them in user
space. We do not support tge generic hotkey driver.

Solution:
   * Use the upcoming patch. This patch renames 'acpi_specific_hotkey' to
     'no_acpi_specific_hotkey' and inverts its logic. Thus, by default the
     specific drivers are working.

diff -urNp linux-2.6.12/drivers/acpi/osl.c linux-2.6.12.SUSE/drivers/acpi/osl.c
--- linux-2.6.12/drivers/acpi/osl.c	2005-08-01 17:18:08.575894736 +0200
+++ linux-2.6.12.SUSE/drivers/acpi/osl.c	2005-08-01 17:19:26.232089200 +0200
@@ -74,7 +74,7 @@ EXPORT_SYMBOL(acpi_in_debugger);
 extern char line_buf[80];
 #endif /*ENABLE_DEBUGGER*/
 
-int acpi_specific_hotkey_enabled;
+int acpi_specific_hotkey_enabled = TRUE;
 EXPORT_SYMBOL(acpi_specific_hotkey_enabled);
 
 static unsigned int acpi_irq_irq;
@@ -1241,11 +1241,11 @@ __setup("acpi_wake_gpes_always_on", acpi
 int __init
 acpi_hotkey_setup(char *str)
 {
-	acpi_specific_hotkey_enabled = TRUE;
+	acpi_specific_hotkey_enabled = FALSE;
 	return 1;
 }
 
-__setup("acpi_specific_hotkey", acpi_hotkey_setup);
+__setup("no_acpi_specific_hotkey", acpi_hotkey_setup);
 
 /*
  * max_cstate is defined in the base kernel so modules can
