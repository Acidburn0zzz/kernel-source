
missing filesystem changes for the tag writeback code
SetPageWriteback -> set_page_writeback()

Index: linux.t/fs/nfs/write.c
===================================================================
--- linux.t.orig/fs/nfs/write.c	2004-03-17 10:03:22.902603707 -0500
+++ linux.t/fs/nfs/write.c	2004-03-17 10:16:24.144191590 -0500
@@ -768,7 +768,7 @@ nfs_write_rpcsetup(struct list_head *hea
 		req = nfs_list_entry(head->next);
 		nfs_list_remove_request(req);
 		nfs_list_add_request(req, &data->pages);
-		SetPageWriteback(req->wb_page);
+		set_page_writeback(req->wb_page);
 		*pages++ = req->wb_page;
 		count += req->wb_bytes;
 	}
Index: linux.t/fs/xfs/linux/xfs_aops.c
===================================================================
--- linux.t.orig/fs/xfs/linux/xfs_aops.c	2004-03-17 10:03:32.250836188 -0500
+++ linux.t/fs/xfs/linux/xfs_aops.c	2004-03-17 10:09:17.720441671 -0500
@@ -566,7 +566,7 @@ xfs_submit_page(
 	int			i;
 
 	BUG_ON(PageWriteback(page));
-	SetPageWriteback(page);
+	set_page_writeback(page);
 	clear_page_dirty(page);
 	unlock_page(page);
 
Index: linux.t/fs/ntfs/aops.c
===================================================================
--- linux.t.orig/fs/ntfs/aops.c	2004-01-09 01:59:55.000000000 -0500
+++ linux.t/fs/ntfs/aops.c	2004-03-17 10:09:17.716442856 -0500
@@ -743,7 +743,7 @@ lock_retry_remap:
 	}
 
 	BUG_ON(PageWriteback(page));
-	SetPageWriteback(page);		/* Keeps try_to_free_buffers() away. */
+	set_page_writeback(page);	/* Keeps try_to_free_buffers() away. */
 	unlock_page(page);
 
 	/*
@@ -885,7 +885,7 @@ static int ntfs_writepage(struct page *p
 	// FIXME: Make sure it is ok to SetPageError() on unlocked page under
 	// writeback before doing the change!
 #if 0
-	SetPageWriteback(page);
+	set_page_writeback(page);
 	unlock_page(page);
 #endif
 
Index: linux.t/fs/reiserfs/inode.c
===================================================================
--- linux.t.orig/fs/reiserfs/inode.c	2004-03-17 10:03:31.776976814 -0500
+++ linux.t/fs/reiserfs/inode.c	2004-03-17 10:09:17.719441967 -0500
@@ -2223,7 +2223,7 @@ static int reiserfs_write_full_page(stru
     } while(bh != head) ;
 
     BUG_ON(PageWriteback(page));
-    SetPageWriteback(page);
+    set_page_writeback(page);
     unlock_page(page);
 
     /*
@@ -2287,7 +2287,7 @@ fail:
     } while(bh != head);
     SetPageError(page);
     BUG_ON(PageWriteback(page));
-    SetPageWriteback(page);
+    set_page_writeback(page);
     unlock_page(page);
     do {
         struct buffer_head *next = bh->b_this_page;
