diff -urNp linux-2.6.5/kernel/kmod.c linux-2.6.5.SUSE/kernel/kmod.c
--- linux-2.6.5/kernel/kmod.c	2004-05-25 15:34:57.411928696 +0200
+++ linux-2.6.5.SUSE/kernel/kmod.c	2004-05-25 15:35:18.130190881 +0200
@@ -223,6 +223,7 @@ static void __call_usermodehelper(void *
 		complete(sub_info->complete);
 }
 
+#ifdef CONFIG_KMOD
 /**
  * call_usermodehelper - start a usermode application
  * @path: pathname for the application
@@ -237,7 +238,6 @@ static void __call_usermodehelper(void *
  * Must be called from process context.  Returns a negative error code
  * if program was not execed successfully, or 0.
  */
-#ifdef CONFIG_KMOD
 int call_usermodehelper(char *path, char **argv, char **envp, int wait)
 {
 	DECLARE_COMPLETION(done);
