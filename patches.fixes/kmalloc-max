Date: Mon, 14 Jul 2003 15:53:14 +0200
From: Andreas Schwab <schwab@suse.de>
Subject: Fix big kmalloc for saa7146

---
 include/media/saa7146_vv.h |    4 ++++
 1 files changed, 4 insertions(+)

--- linux-2.6.18.orig/include/media/saa7146_vv.h
+++ linux-2.6.18/include/media/saa7146_vv.h
@@ -239,7 +239,11 @@ void saa7146_res_free(struct saa7146_fh 
 #define SAA7146_HPS_SYNC_PORT_B		0x01
 
 /* some memory sizes */
+#if PAGE_SIZE <= 8192
 #define SAA7146_CLIPPING_MEM	(14*PAGE_SIZE)
+#else
+#define SAA7146_CLIPPING_MEM	(14*8192)
+#endif
 
 /* some defines for the various clipping-modes */
 #define SAA7146_CLIPPING_RECT		0x4
