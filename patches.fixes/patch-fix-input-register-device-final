===== net/bluetooth/hidp/core.c 1.2 vs edited =====
--- 1.2/net/bluetooth/hidp/core.c	2004-07-26 19:47:01 +02:00
+++ edited/net/bluetooth/hidp/core.c	2004-09-28 13:30:09 +02:00
@@ -411,6 +411,7 @@
 static inline void hidp_setup_input(struct hidp_session *session, struct hidp_connadd_req *req)
 {
 	struct input_dev *input = session->input;
+	bdaddr_t bdaddr;
 	int i;
 
 	input->private = session;
@@ -419,6 +420,9 @@
 	input->id.vendor  = req->vendor;
 	input->id.product = req->product;
 	input->id.version = req->version;
+
+	baswap(&bdaddr, &session->bdaddr);
+	sprintf(input->cdev.class_id, "hidp_%s\n", batostr(&bdaddr));
 
 	if (req->subclass & 0x40) {
 		set_bit(EV_KEY, input->evbit);
