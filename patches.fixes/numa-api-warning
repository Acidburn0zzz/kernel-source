# This is a BitKeeper generated diff -Nru style patch.
#
# ChangeSet
#   2004/09/14 07:51:00-07:00 jbarnes@engr.sgi.com 
#   [PATCH] fix uninitialized warnings in mempolicy.c
#   
#   err may be used uninitialized in mempolicy.c in both compat_set_mempolicy
#   and compat_mbind.  This patch fixes that by setting them both to 0.
#   
#   Signed-off-by: Jesse Barnes <jbarnes@sgi.com>
#   Signed-off-by: Andrew Morton <akpm@osdl.org>
#   Signed-off-by: Linus Torvalds <torvalds@osdl.org>
# 
# mm/mempolicy.c
#   2004/09/13 17:23:24-07:00 jbarnes@engr.sgi.com +2 -2
#   fix uninitialized warnings in mempolicy.c
# 
diff -Nru a/mm/mempolicy.c b/mm/mempolicy.c
--- a/mm/mempolicy.c	2004-09-18 01:02:16 -07:00
+++ b/mm/mempolicy.c	2004-09-18 01:02:16 -07:00
@@ -557,7 +557,7 @@
 asmlinkage long compat_set_mempolicy(int mode, compat_ulong_t __user *nmask,
 				     compat_ulong_t maxnode)
 {
-	long err;
+	long err = 0;
 	unsigned long __user *nm = NULL;
 	unsigned long nr_bits, alloc_size;
 	DECLARE_BITMAP(bm, MAX_NUMNODES);
@@ -581,7 +581,7 @@
 			     compat_ulong_t mode, compat_ulong_t __user *nmask,
 			     compat_ulong_t maxnode, compat_ulong_t flags)
 {
-	long err;
+	long err = 0;
 	unsigned long __user *nm = NULL;
 	unsigned long nr_bits, alloc_size;
 	DECLARE_BITMAP(bm, MAX_NUMNODES);
