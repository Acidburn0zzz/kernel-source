diff -urN linux-2.6.4/arch/alpha/lib/dec_and_lock.c linux-2.6.4.test/arch/alpha/lib/dec_and_lock.c
--- linux-2.6.4/arch/alpha/lib/dec_and_lock.c	2004-03-11 03:55:24.000000000 +0100
+++ linux-2.6.4.test/arch/alpha/lib/dec_and_lock.c	2004-04-05 01:17:02.000000000 +0200
@@ -30,7 +30,7 @@
 	.previous				\n\
 	.end atomic_dec_and_lock");
 
-static int __attribute__((unused))
+static int __attribute__((used))
 atomic_dec_and_lock_1(atomic_t *atomic, spinlock_t *lock)
 {
 	/* Slow path */
