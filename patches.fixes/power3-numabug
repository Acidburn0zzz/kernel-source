--- linux-2.6.5/arch/ppc64/mm/numa.c~	2004-06-15 08:07:01.362974984 +1000
+++ linux-2.6.5/arch/ppc64/mm/numa.c	2004-06-15 08:07:37.378499792 +1000
@@ -536,7 +536,7 @@
 		zones_size[ZONE_DMA] = end_pfn - start_pfn;
 		zholes_size[ZONE_DMA] = 0;
 		if (nid == 0)
-			zholes_size[ZONE_DMA] = node0_io_hole_size;
+			zholes_size[ZONE_DMA] = node0_io_hole_size >> PAGE_SHIFT;
 
 		dbg("free_area_init node %d %lx %lx (hole: %lx)\n", nid,
 		    zones_size[ZONE_DMA], start_pfn, zholes_size[ZONE_DMA]);
