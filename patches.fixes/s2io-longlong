From: schwab@suse.de
Subject: Avoid switch on long long
Patch-mainline: submitted

A switch on long long causes gcc to generate a reference to __ucmpdi2 on
ppc32.  Avoid that by casting to int, since the value is only a small
integer anyway.

Signed-off-by: Andreas Schwab <schwab@suse.de>

---
 drivers/net/s2io.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

Index: linux-2.6.21/drivers/net/s2io.c
===================================================================
--- linux-2.6.21.orig/drivers/net/s2io.c	2007-05-26 10:52:42.000000000 +0200
+++ linux-2.6.21/drivers/net/s2io.c	2007-05-26 10:53:09.000000000 +0200
@@ -2898,7 +2898,7 @@ static void tx_intr_handler(struct fifo_
 
 			/* update t_code statistics */
 			err >>= 48;
-			switch(err) {
+			switch((int)err) {
 				case 2:
 					nic->mac_control.stats_info->sw_stat.
 							tx_buf_abort_cnt++;
@@ -6825,7 +6825,7 @@ static int rx_osm_handler(struct ring_in
 			sp->mac_control.stats_info->sw_stat.parity_err_cnt++;
 		}
 		err >>= 48;
-		switch(err) {
+		switch((int)err) {
 			case 1:
 				sp->mac_control.stats_info->sw_stat.
 				rx_parity_err_cnt++;
