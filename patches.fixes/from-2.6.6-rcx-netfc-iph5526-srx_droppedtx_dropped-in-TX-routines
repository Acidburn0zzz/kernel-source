#date: 2004-04-06
#id: 1.1371.689.1
#tag: network
#time: 09:18:52
#title: [net/fc iph5526] s/rx_dropped/tx_dropped/ in TX routines
#who: jgarzik@redhat.com
#
# ChangeSet
#   1.1371.689.1 04/04/06 09:18:52 jgarzik@redhat.com +1 -0
#   [net/fc iph5526] s/rx_dropped/tx_dropped/ in TX routines
#   
#   Spotted by Denis Valesko(sp?).
#   
#   Maybe one day we'll either kill this driver, or someone will fix it
#   up for the current SCSI API.
#
# drivers/net/fc/iph5526.c +2 -2
#   [net/fc iph5526] s/rx_dropped/tx_dropped/ in TX routines
#     
#     Spotted by Denis Valesko(sp?).
#     
#     Maybe one day we'll either kill this driver, or someone will fix it
#     up for the current SCSI API.
#
diff -Nru a/drivers/net/fc/iph5526.c b/drivers/net/fc/iph5526.c
--- a/drivers/net/fc/iph5526.c	Wed Apr 28 00:20:34 2004
+++ b/drivers/net/fc/iph5526.c	Wed Apr 28 00:20:34 2004
@@ -2910,7 +2910,7 @@
 {
 	struct fc_info *fi = dev->priv;
 	printk(KERN_WARNING "%s: timed out on send.\n", dev->name);
-	fi->fc_stats.rx_dropped++;
+	fi->fc_stats.tx_dropped++;
 	dev->trans_start = jiffies;
 	netif_wake_queue(dev);
 }
@@ -2953,7 +2953,7 @@
 		fi->fc_stats.tx_packets++;
 	}
 	else
-		fi->fc_stats.rx_dropped++;
+		fi->fc_stats.tx_dropped++;
 	dev->trans_start = jiffies;
 	/* We free up the IP buffers in the OCI_interrupt handler.
 	 * status == 0 implies that the frame was not transmitted. So the
