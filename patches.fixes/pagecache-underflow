diff -urNp linux-2.6.5/include/linux/pagemap.h linux-2.6.5.SUSE/include/linux/pagemap.h
--- linux-2.6.5/include/linux/pagemap.h	2004-06-22 11:56:12.307464609 +0200
+++ linux-2.6.5.SUSE/include/linux/pagemap.h	2004-06-22 11:57:16.991306777 +0200
@@ -136,7 +136,20 @@ static inline void pagecache_acct(int co
 
 static inline unsigned long get_page_cache_size(void)
 {
-        return atomic_read(&nr_pagecache);
+	int val = atomic_read(&nr_pagecache);
+
+	/* 
+	 * Since we have a per cpu count that spills into the global count,
+	 * the global count can be up to nr_cpus * PAGECACHE_ACCT_THRESHOLD
+	 * different to the actual count.
+	 *
+	 * While an approximation here is OK, we need to be careful to never
+	 * return a negative value.
+	 */
+	if (unlikely(val < 0))
+		return 0;
+
+	return val;
 }
 
 static inline void ___add_to_page_cache(struct page *page,
