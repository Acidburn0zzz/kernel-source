Index: linux-2.6.8/drivers/block/cciss.h
===================================================================
--- linux-2.6.8.orig/drivers/block/cciss.h
+++ linux-2.6.8/drivers/block/cciss.h
@@ -42,9 +42,9 @@ struct ctlr_info 
 	char    *product_name;
 	char	firm_ver[4]; // Firmware version 
 	struct pci_dev *pdev;
 	__u32	board_id;
-	unsigned long vaddr;
+	void __iomem *vaddr;
 	unsigned long paddr;
 	unsigned long io_mem_addr;
 	unsigned long io_mem_length;
 	CfgTable_struct *cfgtable;
Index: linux-2.6.8/drivers/block/cciss.c
===================================================================
--- linux-2.6.8.orig/drivers/block/cciss.c
+++ linux-2.6.8/drivers/block/cciss.c
@@ -1843,15 +1843,15 @@ cleanup1:	
 } 
 /*
  * Map (physical) PCI mem into (virtual) kernel space
  */
-static ulong remap_pci_mem(ulong base, ulong size)
+static void __iomem * remap_pci_mem(ulong base, ulong size)
 {
         ulong page_base        = ((ulong) base) & PAGE_MASK;
         ulong page_offs        = ((ulong) base) - page_base;
-        ulong page_remapped    = (ulong) ioremap(page_base, page_offs+size);
+        void __iomem *page_remapped = ioremap(page_base, page_offs+size);
 
-        return (ulong) (page_remapped ? (page_remapped + page_offs) : 0UL);
+        return (page_remapped ? (page_remapped + page_offs) : (void __iomem *)0UL);
 }
 
 /* 
  * Takes jobs of the Q and sends them to the hardware, then puts it on 
