#date: 2004-04-14
#id: 1.1371.701.8
#tag: other
#time: 04:32:32
#title: [PNPBIOS] blacklist asus P4P800
#who: ambx1@neo.rr.com
#
# ChangeSet
#   1.1371.701.8 04/04/14 04:32:32 ambx1@neo.rr.com +1 -0
#   [PNPBIOS] blacklist asus P4P800
#   
#   The ASUS p4p800 motherboard's BIOS has a broken PnPBIOS implementation.  This 
#   patch will disable PnPBIOS support if this hardware is detected by DMI.
#
# #
diff -Nru a/arch/i386/kernel/dmi_scan.c b/arch/i386/kernel/dmi_scan.c
--- a/arch/i386/kernel/dmi_scan.c	Tue Apr 27 23:10:14 2004
+++ b/arch/i386/kernel/dmi_scan.c	Tue Apr 27 23:10:14 2004
@@ -778,11 +778,15 @@
 			MATCH(DMI_BIOS_DATE, "10/26/01"), NO_MATCH
 			} },
 			
-	{ exploding_pnp_bios, "Higraded P14H", {	/* BIOSPnP problem */
+	{ exploding_pnp_bios, "Higraded P14H", {	/* PnPBIOS GPF on boot */
 			MATCH(DMI_BIOS_VENDOR, "American Megatrends Inc."),
 			MATCH(DMI_BIOS_VERSION, "07.00T"),
 			MATCH(DMI_SYS_VENDOR, "Higraded"),
 			MATCH(DMI_PRODUCT_NAME, "P14H")
+			} },
+	{ exploding_pnp_bios, "ASUS P4P800", {	/* PnPBIOS GPF on boot */
+			MATCH(DMI_BOARD_VENDOR, "ASUSTeK Computer Inc."),
+			MATCH(DMI_BOARD_NAME, "P4P800"),
 			} },
 
 	/* Machines which have problems handling enabled local APICs */
