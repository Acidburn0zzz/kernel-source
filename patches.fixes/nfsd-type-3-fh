From:  Frank Filz <ffilzlnx@us.ibm.com>
Subject: Fix nfsd support for filesystems on devices with large minors
Patch-mainline: 2.6.17
References: 182552

Signed-off-by: Frank Filz <ffilzlnx@us.ibm.com>
Acked-by: NeilBrown <neilb@suse.de>

diff --git a/fs/nfsd/export.c b/fs/nfsd/export.c
--- a/fs/nfsd/export.c
+++ b/fs/nfsd/export.c
@@ -132,7 +132,7 @@ static int expkey_parse(struct cache_det
 	if (*ep)
 		goto out;
 	dprintk("found fsidtype %d\n", fsidtype);
-	if (fsidtype > 2)
+	if (fsidtype > 3)
 		goto out;
 	if ((len=qword_get(&mesg, buf, PAGE_SIZE)) <= 0)
 		goto out;
