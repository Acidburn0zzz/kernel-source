From: mantel@suse.de
Subject: allow for both megaraid_mbox and megaraid to be built
Patch-mainline: No
References: SUSE50431

The cute people at LSI think that people with "ancient" hardware should no
longer be supported. So when somebody builds the new driver (megaraid_mbox)
building of the old driver (megaraid) gets arbitrarily disabled. This is to
ensure maximum grief for customers who refuse to always buy the newest and
greatest hardware.

Attached patch fixes this arrogant brain damage.

Signed-off-by: mantel@suse.de

diff -urNp linux-2.6.10/drivers/scsi/megaraid/Kconfig.megaraid linux-2.6.10.SUSE/drivers/scsi/megaraid/Kconfig.megaraid
--- linux-2.6.10/drivers/scsi/megaraid/Kconfig.megaraid	2004-12-24 22:34:01.000000000 +0100
+++ linux-2.6.10.SUSE/drivers/scsi/megaraid/Kconfig.megaraid	2005-02-09 17:09:11.865325675 +0100
@@ -63,7 +63,6 @@ config MEGARAID_MAILBOX
 	To compile this driver as a module, choose M here: the
 	module will be called megaraid_mbox
 
-if MEGARAID_NEWGEN=n
 config MEGARAID_LEGACY
 	tristate "LSI Logic Legacy MegaRAID Driver"
 	depends on PCI && SCSI
@@ -74,4 +73,3 @@ config MEGARAID_LEGACY
 
 	To compile this driver as a module, choose M here: the
 	module will be called megaraid
-endif

