From: ak@suse.de
Suze-bugzilla: 114314
Subject: Fix crash in aic79xx driver when no hardware is present.

Index: linux-2.6.13/drivers/scsi/aic7xxx/aic79xx_osm.c
===================================================================
--- linux-2.6.13.orig/drivers/scsi/aic7xxx/aic79xx_osm.c
+++ linux-2.6.13/drivers/scsi/aic7xxx/aic79xx_osm.c
@@ -2771,7 +2771,6 @@ ahd_linux_init(void)
 				      sizeof(struct ahd_linux_device));
 	if (ahd_linux_detect(&aic79xx_driver_template) > 0)
 		return 0;
-	spi_release_transport(ahd_linux_transport_template);
 	ahd_linux_exit();
 	return -ENODEV;
 }
