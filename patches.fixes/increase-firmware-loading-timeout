From: jg@suse.de
Subject: IPW2100 fails to load firmware when booting on battery
Patch-mainline: no
References: 74526

IPW2100 fails to load firmware when booting on battery; increasing the
timeout solves the problem.

Acked-by: mantel@suse.de

diff -urNp linux-2.6.12/drivers/base/firmware_class.c linux-2.6.12.SUSE/drivers/base/firmware_class.c
--- linux-2.6.12/drivers/base/firmware_class.c	2005-08-05 11:36:43.908851520 +0200
+++ linux-2.6.12.SUSE/drivers/base/firmware_class.c	2005-08-05 11:41:23.737311128 +0200
@@ -30,7 +30,7 @@ enum {
 	FW_STATUS_READY,
 };
 
-static int loading_timeout = 10;	/* In seconds */
+static int loading_timeout = 30;	/* In seconds */
 
 /* fw_lock could be moved to 'struct firmware_priv' but since it is just
  * guarding for corner cases a global lock should be OK */
