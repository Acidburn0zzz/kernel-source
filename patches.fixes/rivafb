# This is a BitKeeper generated diff -Nru style patch.
#
# ChangeSet
#   2004/05/15 10:26:53-07:00 akpm@osdl.org 
#   [PATCH] Fix botched fbdev lvalue conversion
# 
# drivers/video/riva/fbdev.c
#   2004/05/15 10:26:48-07:00 akpm@osdl.org +6 -6
#   Fix botched fbdev lvalue conversion
# 
diff -Nru a/drivers/video/riva/fbdev.c b/drivers/video/riva/fbdev.c
--- a/drivers/video/riva/fbdev.c	Sat May 15 14:20:31 2004
+++ b/drivers/video/riva/fbdev.c	Sat May 15 14:20:31 2004
@@ -492,17 +492,17 @@
  * CALLED FROM:
  * rivafb_cursor()
  */
-static void rivafb_load_cursor_image(struct riva_par *par, u8 *data, 
-				     u8 *mask, u16 bg, u16 fg, u32 w, u32 h)
+static void rivafb_load_cursor_image(struct riva_par *par, u8 *data8,
+				     u8 *mask8, u16 bg, u16 fg, u32 w, u32 h)
 {
 	int i, j, k = 0;
 	u32 b, m, tmp;
+	u32 *data = (u32 *)data8;
+	u32 *mask = (u32 *)mask8;
 
 	for (i = 0; i < h; i++) {
-		b = *((u32 *)data);
-		b = (u32)((u32 *)b + 1);
-		m = *((u32 *)mask);
-		m = (u32)((u32 *)m + 1);
+		b = *data++;
+		m = *mask++;
 		reverse_order(&b);
 		
 		for (j = 0; j < w/2; j++) {
