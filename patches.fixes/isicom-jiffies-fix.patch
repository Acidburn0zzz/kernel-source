
From: Geert Uytterhoeven <geert@linux-m68k.org>

jiffies must be unsigned long


---

 25-akpm/drivers/char/isicom.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff -puN drivers/char/isicom.c~isicom-jiffies-fix drivers/char/isicom.c
--- 25/drivers/char/isicom.c~isicom-jiffies-fix	Tue Apr  6 15:29:48 2004
+++ 25-akpm/drivers/char/isicom.c	Tue Apr  6 15:29:48 2004
@@ -129,6 +129,7 @@ static int ISILoad_ioctl(struct inode *i
 		         unsigned int cmd, unsigned long arg)
 {
 	unsigned int card, i, j, signature, status, portcount = 0;
+	unsigned long t;
 	unsigned short word_count, base;
 	bin_frame frame;
 	/* exec_record exec_rec; */
@@ -152,12 +153,12 @@ static int ISILoad_ioctl(struct inode *i
 								
 			inw(base+0x8);
 			
-			for(i=jiffies+HZ/100;time_before(jiffies, i););
+			for(t=jiffies+HZ/100;time_before(jiffies, t););
 				
 			outw(0,base+0x8); /* Reset */
 			
 			for(j=1;j<=3;j++) {
-				for(i=jiffies+HZ;time_before(jiffies, i););
+				for(t=jiffies+HZ;time_before(jiffies, t););
 				printk(".");
 			}	
 			signature=(inw(base+0x4)) & 0xff;	

_
