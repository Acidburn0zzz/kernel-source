

Switch it to ->lru


---

 arch/i386/mm/pageattr.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff -puN arch/i386/mm/pageattr.c~pageattr-stop-using-page-list arch/i386/mm/pageattr.c
--- 25/arch/i386/mm/pageattr.c~pageattr-stop-using-page-list	2004-03-09 19:41:26.000000000 -0800
+++ 25-akpm/arch/i386/mm/pageattr.c	2004-03-09 19:41:26.000000000 -0800
@@ -132,7 +132,7 @@ __change_page_attr(struct page *page, pg
 	}
 
 	if (cpu_has_pse && (atomic_read(&kpte_page->count) == 1)) { 
-		list_add(&kpte_page->list, &df_list);
+		list_add(&kpte_page->lru, &df_list);
 		revert_page(kpte_page, address);
 	} 
 	return 0;
@@ -185,7 +185,7 @@ void global_flush_tlb(void)
 	flush_map();
 	n = l.next;
 	while (n != &l) {
-		struct page *pg = list_entry(n, struct page, list);
+		struct page *pg = list_entry(n, struct page, lru);
 		n = n->next;
 		__free_page(pg);
 	}

_
