# This is a BitKeeper generated diff -Nru style patch.
#
# ChangeSet
#   2004/09/16 19:57:18+10:00 airlied@starflyer.(none) 
#   drm: fix bug introduced in the macro removal
#   
#   This caused issues with a PCI radeon card.
#   
#   From: Jon Smirl
#   Approved-by: Dave Airlie <airlied@linux.ie>
# 
# drivers/char/drm/drm_scatter.h
#   2004/09/16 19:53:12+10:00 airlied@starflyer.(none) +1 -1
#   drm: fix bug introduced in the macro removal
#   
#   This caused issues with a PCI radeon card.
#   
#   From: Jon Smirl
#   Approved-by: Dave Airlie <airlied@linux.ie>
# 
diff -Nru a/drivers/char/drm/drm_scatter.h b/drivers/char/drm/drm_scatter.h
--- a/drivers/char/drm/drm_scatter.h	2004-09-18 00:55:38 -07:00
+++ b/drivers/char/drm/drm_scatter.h	2004-09-18 00:55:38 -07:00
@@ -73,7 +73,7 @@
 
 	DRM_DEBUG( "%s\n", __FUNCTION__ );
 
-	if (drm_core_check_feature(dev, DRIVER_SG))
+	if (!drm_core_check_feature(dev, DRIVER_SG))
 		return -EINVAL;
 
 	if ( dev->sg )
