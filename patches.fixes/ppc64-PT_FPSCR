ChangeSet
  1.1742.2.24 04/05/18 22:07:43 paulus@samba.org[torvalds] +1 -0
  [PATCH] Fix incorrect PT_FPSCR definition
  
  Bryan Rosenburg pointed out that the definition of PT_FPSCR in
  include/asm-ppc64/ptrace.h is wrong.  The patch below fixes it.

  include/asm-ppc64/ptrace.h
    1.5 04/04/02 05:12:02 paulus@samba.org[torvalds] +1 -1
    Fix incorrect PT_FPSCR definition

diff -p -Nru a/include/asm-ppc64/ptrace.h b/include/asm-ppc64/ptrace.h
--- a/include/asm-ppc64/ptrace.h	Wed May 19 08:48:33 2004
+++ b/include/asm-ppc64/ptrace.h	Wed May 19 08:48:33 2004
@@ -124,7 +124,7 @@ struct pt_regs32 {
 /* Kernel and userspace will both use this PT_FPSCR value.  32-bit apps will have
  * visibility to the asm-ppc/ptrace.h header instead of this one.
  */
-#define PT_FPSCR (PT_FPR0 + 32 + 1)	  /* each FP reg occupies 1 slot in 64-bit space */
+#define PT_FPSCR (PT_FPR0 + 32)	  /* each FP reg occupies 1 slot in 64-bit space */
 
 #ifdef __KERNEL__
 #define PT_FPSCR32 (PT_FPR0 + 2*32 + 1)	  /* each FP reg occupies 2 32-bit userspace slots */
.........................................................................
# vim: syntax=diff

