From: Andreas Gruenbacher <agruen@suse.de>
Subject: Export the __d_path function
References: 65751

km_antivir needs the __d_path function.

Signed-off-by: Andreas Gruenbacher <agruen@suse.de>

Index: linux-2.6.11/fs/dcache.c
===================================================================
--- linux-2.6.11.orig/fs/dcache.c
+++ linux-2.6.11/fs/dcache.c
@@ -1351,9 +1351,9 @@ already_unhashed:
  *
  * "buflen" should be positive. Caller holds the dcache_lock.
  */
-static char * __d_path( struct dentry *dentry, struct vfsmount *vfsmnt,
-			struct dentry *root, struct vfsmount *rootmnt,
-			char *buffer, int buflen)
+char * __d_path(struct dentry *dentry, struct vfsmount *vfsmnt,
+		struct dentry *root, struct vfsmount *rootmnt,
+		char *buffer, int buflen)
 {
 	char * end = buffer+buflen;
 	char * retval;
@@ -1758,3 +1758,4 @@ EXPORT_SYMBOL(have_submounts);
 EXPORT_SYMBOL(names_cachep);
 EXPORT_SYMBOL(shrink_dcache_parent);
 EXPORT_SYMBOL(shrink_dcache_sb);
+EXPORT_SYMBOL(__d_path);
