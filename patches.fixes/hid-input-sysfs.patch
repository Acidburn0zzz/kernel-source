--- linux-2.6.8/drivers/usb/input/hid-input.c.orig	2004-09-23 09:27:14.000000000 +0200
+++ linux-2.6.8/drivers/usb/input/hid-input.c	2004-09-23 13:19:22.677275836 +0200
@@ -598,7 +598,7 @@
 				hidinput->input.id.vendor = dev->descriptor.idVendor;
 				hidinput->input.id.product = dev->descriptor.idProduct;
 				hidinput->input.id.version = dev->descriptor.bcdDevice;
-				hidinput->input.dev = &hid->intf->dev;
+				hidinput->input.dev = get_device(&hid->intf->dev);
 				sprintf(hidinput->input.cdev.class_id,"usbhid%d",
 					hidinput_num++);
 			}
@@ -641,7 +641,8 @@
 
 	list_for_each_safe (lh, next, &hid->inputs) {
 		hidinput = list_entry(lh, struct hid_input, list);
+		put_device(hidinput->input.dev);
 		input_unregister_device(&hidinput->input);
 		list_del(&hidinput->list);
 		kfree(hidinput);
--- linux-2.6.8/drivers/input/input.c.orig	2004-09-27 10:36:39.317067258 +0200
+++ linux-2.6.8/drivers/input/input.c	2004-09-27 10:43:14.710382582 +0200
@@ -858,7 +858,6 @@
 
 void input_class_remove_handle(struct input_handle *handle)
 {
-	put_device(handle->class_dev.dev);
 	class_device_unregister(&handle->class_dev);
 }
 
