Subject: [PATCH] fs/compat.c: fix 'if (a |= b )' typo
From: Alexey Dobriyan <adobriyan@gmail.com>
X-Git-Commit: 3835a9bd07778d87dea37fbf190f70883515e8fc

Mentioned by Mark Armbrust somewhere on Usenet.


Signed-off-by: Olaf Hering <olh@suse.de>

 fs/compat.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: linux-2.6.16/fs/compat.c
===================================================================
--- linux-2.6.16.orig/fs/compat.c
+++ linux-2.6.16/fs/compat.c
@@ -1901,7 +1901,7 @@ asmlinkage long compat_sys_ppoll(struct 
 	}
 
 	if (sigmask) {
-		if (sigsetsize |= sizeof(compat_sigset_t))
+		if (sigsetsize != sizeof(compat_sigset_t))
 			return -EINVAL;
 		if (copy_from_user(&ss32, sigmask, sizeof(ss32)))
 			return -EFAULT;
