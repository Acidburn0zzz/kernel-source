From: Andreas Gruenbacher <agruen@suse.de>
Subject: Enable DMAPI in xfs
Patch-mainline: never

Signed-off-by: Andreas Gruenbacher <agruen@suse.de>

Index: linux-2.6.15/fs/xfs/Kconfig
===================================================================
--- linux-2.6.15.orig/fs/xfs/Kconfig
+++ linux-2.6.15/fs/xfs/Kconfig
@@ -1,6 +1,7 @@
 config XFS_FS
 	tristate "XFS filesystem support"
 	select EXPORTFS if NFSD!=n
+	select DMAPI if XFS_DMAPI
 	help
 	  XFS is a high performance journaling filesystem which originated
 	  on the SGI IRIX platform.  It is completely multi-threaded, can
@@ -40,6 +41,19 @@ config XFS_QUOTA
 	  with or without the generic quota support enabled (CONFIG_QUOTA) -
 	  they are completely independent subsystems.
 
+config XFS_DMAPI
+	bool "DMAPI support"
+	depends on XFS_FS
+	help
+	  The Data Management API is a system interface used to implement
+	  the interface defined in the X/Open document:
+	  "Systems Management: Data Storage Management (XDSM) API",
+	  dated February 1997.  This interface is used by hierarchical
+	  storage management systems.
+	  You should enable generic DMAPI support for this.
+
+	  If unsure, say N.
+
 config XFS_SECURITY
 	bool "XFS Security Label support"
 	depends on XFS_FS
