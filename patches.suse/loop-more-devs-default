From: Kurt Garloff <garloff@suse.de>
Subject: Increase default number of loop devices

When you export filesystem images that are files, the xen script
uses the loop driver to export a block device in dom0 to xenblkd 
which serves the domUs.

With the 64, users of Xen do run out of loop devs so quickly.
Note that the default can be changed with a boot / module parameter
max_loop=X
with 1 <= X <= 256

Signed-off-by: Kurt Garloff <garloff@suse.de>

Index: linux-2.6.14/drivers/block/loop.c
===================================================================
--- linux-2.6.14.orig/drivers/block/loop.c
+++ linux-2.6.14/drivers/block/loop.c
@@ -76,9 +76,9 @@
 #include <linux/gfp.h>
 
 #include <asm/uaccess.h>
 
-static int max_loop = 8;
+static int max_loop = 64;
 static struct loop_device *loop_dev;
 static struct gendisk **disks;
 
 /*
