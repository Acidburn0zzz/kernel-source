diff -u linux/drivers/block/ll_rw_blk.c-o linux/drivers/block/ll_rw_blk.c
--- linux/drivers/block/ll_rw_blk.c-o	2004-06-06 16:20:47.000000000 +0200
+++ linux/drivers/block/ll_rw_blk.c	2004-06-07 13:29:20.000000000 +0200
@@ -52,6 +52,8 @@
  */
 static struct workqueue_struct *kblockd_workqueue; 
 
+int dev_check_rdonly(dev_t dev);
+
 unsigned long blk_max_low_pfn, blk_max_pfn;
 
 EXPORT_SYMBOL(blk_max_low_pfn);
