diff -ur linux-2.6.3-usagi/net/ipv6/ip6_fib.c linux-2.6.3/net/ipv6/ip6_fib.c
--- linux-2.6.3-usagi/net/ipv6/ip6_fib.c	2004-02-19 17:10:55.000000000 +0100
+++ linux-2.6.3/net/ipv6/ip6_fib.c	2004-02-20 12:11:53.000000000 +0100
@@ -84,6 +84,7 @@
 static struct rt6_info * fib6_find_prefix(struct fib6_node *fn);
 static void fib6_prune_clones(struct fib6_node *fn, struct rt6_info *rt);
 static struct fib6_node * fib6_repair_tree(struct fib6_node *fn);
+static void rt6_print(const char *msg, struct rt6_info *rt);
 
 /*
  *	A routing update causes an increase of the serial number on the
@@ -1258,6 +1278,25 @@
 	spin_unlock_bh(&fib6_gc_lock);
 }
 
+void rt6_print(const char *msg, struct rt6_info *rt)
+{
+	printk(KERN_DEBUG "%s: rt=%p dst=%04x:%04x:%04x:%04x:%04x:%04x:%04x:%04x/%u\n",
+		msg, rt, NIP6(rt->rt6i_dst.addr), rt->rt6i_dst.plen);
+	if ((rt->rt6i_flags & RTF_EXPIRES) && rt->rt6i_expires) {
+		if ((long) rt->rt6i_expires - jiffies < 0)
+			printk(KERN_DEBUG "    expired\n");
+		else
+			printk(KERN_DEBUG "    expires in %ld seconds\n",
+				((long) (rt->rt6i_expires - jiffies)) / HZ);
+	}
+	if (rt->rt6i_nexthop)
+		printk(KERN_DEBUG
+			"    netxhop %04x%04x%04x%04x%04x%04x%04x%04x\n",
+			NIP6(*(struct in6_addr *) rt->rt6i_nexthop->primary_key));
+	if (rt->u.dst.error)
+		printk(KERN_DEBUG "    dst.error = %d\n", rt->u.dst.error);
+}
+
 void __init fib6_init(void)
 {
 	fib6_node_kmem = kmem_cache_create("fib6_nodes",
