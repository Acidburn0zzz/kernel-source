diff -u linux-2.6.5/mm/memory.c-LAZY linux-2.6.5/mm/memory.c
--- linux-2.6.5/mm/memory.c-LAZY	2004-05-12 11:35:48.000000000 +0200
+++ linux-2.6.5/mm/memory.c	2004-05-12 11:52:11.979533326 +0200
@@ -750,6 +750,8 @@
 		if (is_vm_hugetlb_page(vma)) {
 			i = follow_hugetlb_page(mm, vma, pages, vmas,
 						&start, &len, i);
+			if (i < 0) 
+				return i;
 			continue;
 		}
 		spin_lock(&mm->page_table_lock);
 
