Index: linux.suse/arch/ia64/kernel/ia64_ksyms.c
===================================================================
--- linux.suse.orig/arch/ia64/kernel/ia64_ksyms.c	2004-05-25 21:05:57.274287012 +0200
+++ linux.suse/arch/ia64/kernel/ia64_ksyms.c	2004-05-25 21:10:54.591029622 +0200
@@ -137,3 +137,24 @@
 EXPORT_SYMBOL(ia64_save_debug_regs);
 EXPORT_SYMBOL(ia64_flush_fph);
 #endif
+
+#include <asm/hw_irq.h>
+
+#ifdef CONFIG_CRASH_DUMP_MODULE
+#ifdef CONFIG_SMP
+extern irq_desc_t _irq_desc[NR_IRQS];
+extern unsigned long irq_affinity[NR_IRQS];
+extern void stop_this_cpu(void *);
+extern int (*dump_ipi_function_ptr)(struct pt_regs *);
+extern void dump_send_ipi(void);
+EXPORT_SYMBOL(_irq_desc);
+EXPORT_SYMBOL(irq_affinity);
+EXPORT_SYMBOL(stop_this_cpu);
+EXPORT_SYMBOL(dump_send_ipi);
+EXPORT_SYMBOL(dump_ipi_function_ptr);
+#endif
+#ifdef ARCH_HAS_NMI_WATCHDOG
+EXPORT_SYMBOL(touch_nmi_watchdog);
+#endif
+#endif
+
Index: linux.suse/include/asm-ia64/dump.h
===================================================================
--- linux.suse.orig/include/asm-ia64/dump.h	2004-05-25 21:05:57.307490720 +0200
+++ linux.suse/include/asm-ia64/dump.h	2004-05-25 21:08:41.357246819 +0200
@@ -73,14 +73,6 @@
 #define DUMP_EF_PAGE_SHIFT			DUMP_MIN_PAGE_SHIFT
 
 extern int _end,_start;
-#define START			((unsigned long) 0xa000000100000000)
-#define END			((unsigned long) &_end)
-#define PHYS_START		(64*1024*1024)
-#define IS_PINNED_ADDRESS(loc)			(loc > PHYS_START && \
-		        			loc< \
-						((PHYS_START \
-						 + (END - \
-						   START))))
 
 /*
  * Structure: dump_header_asm_t
