From: Takashi Iwai <tiwai@suse.de>
Subject: Fixed the unbalanced spinlock in timer
Patch-mainline: obsolete
References: 

Signed-off-by: Takashi Iwai <tiwai@suse.de>

--- linux-2.6.15/kernel/timer.c-dist	2006-01-30 18:18:24.000000000 +0100
+++ linux-2.6.15/kernel/timer.c	2006-01-30 18:18:58.000000000 +0100
@@ -473,7 +473,7 @@ static inline void __run_timers(tvec_bas
 					BUG();
 				}
 			}
-			spin_lock_irq(&base->t_base.lock);
+			spin_lock_irqsave(&base->t_base.lock, flags);
 		}
 	}
 	set_running_timer(base, NULL);
