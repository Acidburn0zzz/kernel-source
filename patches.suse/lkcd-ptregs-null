Hello Chris,

There is one more patch that needs to be applied to the lkcd driver. This 
patch takes care of a situation where pt_regs can be null when a dump
is trigerred. 

Kindly apply this patch to the lkcd driver tree. We are working on the other
bugs and will let you know the status soon.

Regards, Hari
-- 
Hariprasad Nellitheertha
Linux Technology Center
India Software Labs
IBM India, Bangalore

diff -Naur 2.6-before/drivers/dump/dump_setup.c 2.6/drivers/dump/dump_setup.c
--- 2.6-before/drivers/dump/dump_setup.c	2004-01-13 14:55:05.000000000 +0530
+++ 2.6/drivers/dump/dump_setup.c	2004-02-26 12:15:37.000000000 +0530
@@ -726,7 +726,14 @@
 /* Sysrq handler */
 static void sysrq_handle_crashdump(int key, struct pt_regs *pt_regs,
 		struct tty_struct *tty) {
-	dump_execute("sysrq", pt_regs);
+	if(!pt_regs) {
+		struct pt_regs regs;
+		get_current_regs(&regs);
+		dump_execute("sysrq", &regs);
+
+	} else {
+		dump_execute("sysrq", pt_regs);
+	}
 }
 
 static struct sysrq_key_op sysrq_crashdump_op = {


