From: Jeff Mahoney <jeffm@suse.com>
Subject: [PATCH] kdb: Fake context

 This patch fakes context so that later patches will apply. It is only
 a temporary workaround until KDB has been updated to 2.6.29-rcX.

Signed-off-by: Jeff Mahoney <jeffm@suse.com>
---
 include/linux/sysctl.h |    2 ++
 kernel/sysctl_check.c  |    2 ++
 2 files changed, 4 insertions(+)

--- a/include/linux/sysctl.h
+++ b/include/linux/sysctl.h
@@ -163,6 +163,8 @@ enum
 	KERN_MAX_LOCK_DEPTH=74,
 	KERN_NMI_WATCHDOG=75, /* int: enable/disable nmi watchdog */
 	KERN_PANIC_ON_NMI=76, /* int: whether we will panic on an unrecovered */
+	KERN_KDB=77,		/* int: kdb on/off */
+	KERN_DUMP_AFTER_NOTIFIER=78, /* int: kdump after panic_notifier (SUSE only) */
 };
 
 
--- a/kernel/sysctl_check.c
+++ b/kernel/sysctl_check.c
@@ -105,6 +105,8 @@ static const struct trans_ctl_table tran
 	{ KERN_NMI_WATCHDOG,		"nmi_watchdog" },
 	{ KERN_PANIC_ON_NMI,		"panic_on_unrecovered_nmi" },
 	{ KERN_SETUID_DUMPABLE,		"suid_dumpable" },
+	{ KERN_KDB,			"kdb" },
+	{ KERN_DUMP_AFTER_NOTIFIER,	"dump_after_notifier" },
 	{}
 };
 
