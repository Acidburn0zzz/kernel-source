From: Andrew Morton <akpm@osdl.org>

Make the completely wrong only very wrong.

Cc: Alon Bar-Lev <alon.barlev@gmail.com>
Cc: "Luck, Tony" <tony.luck@intel.com>
Signed-off-by: Andrew Morton <akpm@osdl.org>
---

 arch/ia64/kernel/efi.c |    3 ++-
 arch/ia64/kernel/sal.c |    3 ++-
 ia64/kernel/setup.c    |    0 
 3 files changed, 4 insertions(+), 2 deletions(-)

diff -puN arch/ia64/kernel/efi.c~dynamic-kernel-command-line-ia64-fix arch/ia64/kernel/efi.c
--- a/arch/ia64/kernel/efi.c~dynamic-kernel-command-line-ia64-fix
+++ a/arch/ia64/kernel/efi.c
@@ -405,6 +405,8 @@ efi_map_pal_code (void)
 	ia64_srlz_i();
 }
 
+extern char __initdata boot_command_line[];
+
 void __init
 efi_init (void)
 {
@@ -413,7 +415,6 @@ efi_init (void)
 	efi_char16_t *c16;
 	u64 efi_desc_size;
 	char *cp, vendor[100] = "unknown";
-	extern char __initdata boot_command_line[];
 	int i;
 
 	/* it's too early to be able to use the standard kernel command line support... */
diff -puN arch/ia64/kernel/sal.c~dynamic-kernel-command-line-ia64-fix arch/ia64/kernel/sal.c
--- a/arch/ia64/kernel/sal.c~dynamic-kernel-command-line-ia64-fix
+++ a/arch/ia64/kernel/sal.c
@@ -190,11 +190,12 @@ sal_desc_ap_wakeup (void *p)
 	}
 }
 
+extern char __initdata boot_command_line[];
+
 static void __init
 chk_nointroute_opt(void)
 {
 	char *cp;
-	extern char __initdata boot_command_line[];
 
 	for (cp = boot_command_line; *cp; ) {
 		if (memcmp(cp, "nointroute", 10) == 0) {
diff -puN arch/ia64/kernel/setup.c~dynamic-kernel-command-line-ia64-fix arch/ia64/kernel/setup.c
_
