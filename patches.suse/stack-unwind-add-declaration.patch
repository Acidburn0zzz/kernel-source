Subject: Fix compile error when CONFIG_STACK_UNWIND is not set
From: Sven-Thorsten Dietrich <sdietrich@suse.de>
Signed-off-by: Sven-Thorsten Dietrich <sdietrich@suse.de>
---
 arch/x86/kernel/dumpstack.h |    4 ++++
 1 file changed, 4 insertions(+)

Index: linux-2.6.29-master/arch/x86/kernel/dumpstack.h
===================================================================
--- linux-2.6.29-master.orig/arch/x86/kernel/dumpstack.h
+++ linux-2.6.29-master/arch/x86/kernel/dumpstack.h
@@ -28,6 +28,10 @@ extern void
 show_stack_log_lvl(struct task_struct *task, struct pt_regs *regs,
 		unsigned long *sp, unsigned long bp, char *log_lvl);
 
+int try_stack_unwind(struct task_struct *task, struct pt_regs *regs,
+                     unsigned long **stack, unsigned long *bp,
+                     const struct stacktrace_ops *ops, void *data);
+
 extern unsigned int code_bytes;
 extern int kstack_depth_to_print;
 
