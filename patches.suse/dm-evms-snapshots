diff -urNp linux-2.6.5/drivers/md/dm-snap.c linux-2.6.5.SUSE/drivers/md/dm-snap.c
--- linux-2.6.5/drivers/md/dm-snap.c	2004-04-13 17:33:51.000000000 +0200
+++ linux-2.6.5.SUSE/drivers/md/dm-snap.c	2004-04-13 17:35:44.000000000 +0200
@@ -1042,14 +1042,12 @@ static int __origin_write(struct list_he
 int do_origin(struct dm_dev *origin, struct bio *bio)
 {
 	struct origin *o;
-	int r;
+	int r = 1;
 
 	down_read(&_origins_lock);
 	o = __lookup_origin(origin->bdev);
-	if (!o)
-		BUG();
-
-	r = __origin_write(&o->snapshots, bio);
+	if (o)
+		r = __origin_write(&o->snapshots, bio);
 	up_read(&_origins_lock);
 
 	return r;
