Subject: provide /sys/bus/ieee1394/drivers/*/module symlinks
From: olh@suse.de
References: 220224

---
 drivers/ieee1394/dv1394.c    |    1 +
 drivers/ieee1394/eth1394.c   |    1 +
 drivers/ieee1394/raw1394.c   |    1 +
 drivers/ieee1394/sbp2.c      |    1 +
 drivers/ieee1394/video1394.c |    1 +
 5 files changed, 5 insertions(+)

--- linux-2.6.19.orig/drivers/ieee1394/dv1394.c
+++ linux-2.6.19/drivers/ieee1394/dv1394.c
@@ -2191,6 +2191,7 @@ static struct hpsb_protocol_driver dv139
 	.name		= "DV/1394 Driver",
 	.id_table	= dv1394_id_table,
 	.driver         = {
+		.owner	= THIS_MODULE,
 		.name	= "dv1394",
 		.bus	= &ieee1394_bus_type,
 	},
--- linux-2.6.19.orig/drivers/ieee1394/eth1394.c
+++ linux-2.6.19/drivers/ieee1394/eth1394.c
@@ -478,6 +478,7 @@ static struct hpsb_protocol_driver eth13
 	.id_table	= eth1394_id_table,
 	.update		= eth1394_update,
 	.driver		= {
+		.owner		= THIS_MODULE,
 		.name		= ETH1394_DRIVER_NAME,
 		.bus		= &ieee1394_bus_type,
 		.probe		= eth1394_probe,
--- linux-2.6.19.orig/drivers/ieee1394/raw1394.c
+++ linux-2.6.19/drivers/ieee1394/raw1394.c
@@ -2973,6 +2973,7 @@ static struct hpsb_protocol_driver raw13
 	.name = "raw1394 Driver",
 	.id_table = raw1394_id_table,
 	.driver = {
+		   .owner = THIS_MODULE,
 		   .name = "raw1394",
 		   .bus = &ieee1394_bus_type,
 		   },
--- linux-2.6.19.orig/drivers/ieee1394/sbp2.c
+++ linux-2.6.19/drivers/ieee1394/sbp2.c
@@ -289,6 +289,7 @@ static struct hpsb_protocol_driver sbp2_
 	.id_table	= sbp2_id_table,
 	.update		= sbp2_update,
 	.driver		= {
+		.owner		= THIS_MODULE,
 		.name		= SBP2_DEVICE_NAME,
 		.bus		= &ieee1394_bus_type,
 		.probe		= sbp2_probe,
--- linux-2.6.19.orig/drivers/ieee1394/video1394.c
+++ linux-2.6.19/drivers/ieee1394/video1394.c
@@ -1327,6 +1327,7 @@ static struct hpsb_protocol_driver video
 	.name		= "1394 Digital Camera Driver",
 	.id_table	= video1394_id_table,
 	.driver		= {
+		.owner	= THIS_MODULE,
 		.name	= VIDEO1394_DRIVER_NAME,
 		.bus	= &ieee1394_bus_type,
 	},
