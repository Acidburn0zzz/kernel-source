From: Jeff Mahoney <jeffm@suse.com>
Subject: [PATCH] psmouse: fix section type conflict

 It seems parameter functions aren't allowed to be static, or it causes
 a section type conflict. This feature isn't used very much outside
 of the standard types, which are all global and exported.

Signed-off-by: Jeff Mahoney <jeffm@suse.com>

---

 drivers/input/mouse/psmouse-base.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

--- a/drivers/input/mouse/psmouse-base.c	2007-10-31 17:43:33.000000000 -0400
+++ b/drivers/input/mouse/psmouse-base.c	2007-10-31 17:43:47.000000000 -0400
@@ -37,8 +37,8 @@
 MODULE_LICENSE("GPL");
 
 static unsigned int psmouse_max_proto = PSMOUSE_AUTO;
-static int psmouse_set_maxproto(const char *val, struct kernel_param *kp);
-static int psmouse_get_maxproto(char *buffer, struct kernel_param *kp);
+int psmouse_set_maxproto(const char *val, struct kernel_param *kp);
+int psmouse_get_maxproto(char *buffer, struct kernel_param *kp);
 #define param_check_proto_abbrev(name, p)	__param_check(name, p, unsigned int)
 #define param_set_proto_abbrev			psmouse_set_maxproto
 #define param_get_proto_abbrev			psmouse_get_maxproto
@@ -1570,7 +1570,8 @@ static ssize_t psmouse_attr_set_resoluti
 }
 
 
-static int psmouse_set_maxproto(const char *val, struct kernel_param *kp)
+/* These two should be static, but it causes a section type conflict */
+int psmouse_set_maxproto(const char *val, struct kernel_param *kp)
 {
 	const struct psmouse_protocol *proto;
 
@@ -1587,7 +1588,7 @@ static int psmouse_set_maxproto(const ch
 	return 0;
 }
 
-static int psmouse_get_maxproto(char *buffer, struct kernel_param *kp)
+int psmouse_get_maxproto(char *buffer, struct kernel_param *kp)
 {
 	int type = *((unsigned int *)kp->arg);
 
