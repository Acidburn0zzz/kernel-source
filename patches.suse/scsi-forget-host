diff -urp /mnt/kscratch/linux-2.6.5/drivers/scsi/hosts.c linux-2.6.5-SUSE-20040614/drivers/scsi/hosts.c
--- /mnt/kscratch/linux-2.6.5/drivers/scsi/hosts.c	2004-04-04 05:36:16.000000000 +0200
+++ linux-2.6.5-SUSE-20040614/drivers/scsi/hosts.c	2004-06-14 20:10:52.721410159 +0200
@@ -77,9 +77,9 @@ void scsi_host_cancel(struct Scsi_Host *
  **/
 void scsi_remove_host(struct Scsi_Host *shost)
 {
+	scsi_forget_host(shost);
 	scsi_host_cancel(shost, 0);
 	scsi_proc_host_rm(shost);
-	scsi_forget_host(shost);
 
 	set_bit(SHOST_DEL, &shost->shost_state);
 

