--- linux-2.6.5/drivers/scsi/megaraid/megaraid_mbox.c~	2004-06-02 14:36:00.598303143 +0200
+++ linux-2.6.5/drivers/scsi/megaraid/megaraid_mbox.c	2004-06-02 14:36:58.165128074 +0200
@@ -1713,7 +1713,9 @@
 	scp->scsi_done	= done;
 	scp->result	= 0;
 
+#ifdef CONFIG_SMP
 	ASSERT(spin_is_locked(adapter->host_lock));
+#endif
 
 	spin_unlock(adapter->host_lock);
 
@@ -2404,7 +2406,9 @@
 
 	while (!list_empty(&adapter->pend_list)) {
 
+#ifdef CONFIG_SMP
 		ASSERT(spin_is_locked(PENDING_LIST_LOCK(adapter)));
+#endif
 
 		scb = list_entry(adapter->pend_list.next, scb_t, list);
 
@@ -2962,7 +2966,9 @@
 	adapter		= SCP2ADAPTER(scp);
 	raid_dev	= ADAP2RAIDDEV(adapter);
 
+#ifdef CONFIG_SMP
 	ASSERT(spin_is_locked(adapter->host_lock));
+#endif
 
 	con_log(CL_ANN, (KERN_WARNING
 		"megaraid: aborting-%ld cmd=%x <c=%d t=%d l=%d>\n",
@@ -3111,7 +3117,9 @@
 	adapter		= SCP2ADAPTER(scp);
 	raid_dev	= ADAP2RAIDDEV(adapter);
 
+#ifdef CONFIG_SMP
 	ASSERT(spin_is_locked(adapter->host_lock));
+#endif
 
 	con_log(CL_ANN, (KERN_WARNING "megaraid: reseting the host...\n"));
 
@@ -3155,7 +3163,9 @@
 
 	for (i = 0; i < MBOX_RESET_WAIT && adapter->outstanding_cmds; i++) {
 
+#ifdef CONFIG_SMP
 		ASSERT(spin_is_locked(adapter->host_lock));
+#endif
 
 		megaraid_ack_sequence(adapter);
 
