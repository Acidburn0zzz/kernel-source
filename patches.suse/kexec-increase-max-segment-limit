From: Vivek Goyal <vgoyal@in.ibm.com>
Subject: kexec increase max segment limit
Patch-mainline: 2.6.15-git8
References: 141975, FATE140304

- In some cases, the number of segments, on a kexec load, exceeds the
  existing cap of 8.  This patch increases the KEXEC_SEGMENT_MAX limit from 8
  to 16.

Acked-by: Lars Marowsky-Bree <lmb@suse.de>
Signed-off-by: Rachita Kothiyal <rachita@in.ibm.com>
Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
Signed-off-by: Andrew Morton <akpm@osdl.org>
---

 include/linux/kexec.h |    2 +-
 1 files changed, 1 insertion(+), 1 deletion(-)

diff -puN include/linux/kexec.h~kexec-increase-max-segment-limit include/linux/kexec.h
--- 25/include/linux/kexec.h~kexec-increase-max-segment-limit	Thu Nov 17 14:21:18 2005
+++ 25-akpm/include/linux/kexec.h	Thu Nov 17 14:21:18 2005
@@ -41,7 +41,7 @@ typedef unsigned long kimage_entry_t;
 #define IND_DONE         0x4
 #define IND_SOURCE       0x8
 
-#define KEXEC_SEGMENT_MAX 8
+#define KEXEC_SEGMENT_MAX 16
 struct kexec_segment {
 	void __user *buf;
 	size_t bufsz;
_
