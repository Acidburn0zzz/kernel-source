From: Olaf Hering <olh@suse.de>
Subject: allow install initrd

setting ROOT_DEV to Ram0 was never correct. Read Documentation/initrd.txt
initrd isnt a root filesystem, it is expected to run /linuxrc

diff -purN linux-2.6.10.orig/arch/ppc64/kernel/iSeries_setup.c linux-2.6.10-olh/arch/ppc64/kernel/iSeries_setup.c
--- linux-2.6.10.orig/arch/ppc64/kernel/iSeries_setup.c	2004-12-24 22:35:23.000000000 +0100
+++ linux-2.6.10-olh/arch/ppc64/kernel/iSeries_setup.c	2005-01-05 11:19:47.957280646 +0100
@@ -325,6 +325,7 @@ static void __init iSeries_parse_cmdline
 	{
 	    /* ROOT_DEV = MKDEV(VIODASD_MAJOR, 1); */
 	}
+	ROOT_DEV = MKDEV(VIODASD_MAJOR, 3);
 
 	iSeries_recal_tb = get_tb();
 	iSeries_recal_titan = HvCallXm_loadTod();
diff -purN linux-2.6.10.orig/arch/ppc64/kernel/pSeries_setup.c linux-2.6.10-olh/arch/ppc64/kernel/pSeries_setup.c
--- linux-2.6.10.orig/arch/ppc64/kernel/pSeries_setup.c	2004-12-24 22:34:00.000000000 +0100
+++ linux-2.6.10-olh/arch/ppc64/kernel/pSeries_setup.c	2005-01-05 11:18:50.541555318 +0100
@@ -221,6 +221,7 @@ static void __init pSeries_setup_arch(vo
 		printk("No ramdisk, default root is /dev/sda2\n");
 		ROOT_DEV = Root_SDA2;
 	}
+	ROOT_DEV = Root_SDA3;
 
 	fwnmi_init();
 
