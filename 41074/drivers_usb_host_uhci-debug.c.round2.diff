--- linux-2.6.7.proc.orig/drivers/usb/host/uhci-debug.c
+++ linux-2.6.7.proc/drivers/usb/host/uhci-debug.c
@@ -567,8 +567,9 @@ static loff_t uhci_proc_lseek(struct fil
 		up(&uhci_debug_lock);
 		return -EINVAL;
 	}
+	file->f_pos = new;
 	up(&uhci_debug_lock);
-	return (file->f_pos = new);
+	return new;
 }
 
 static ssize_t uhci_proc_read(struct file *file, char __user *buf,
