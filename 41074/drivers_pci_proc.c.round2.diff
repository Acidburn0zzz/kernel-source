--- linux-2.6.7.proc.orig/drivers/pci/proc.c
+++ linux-2.6.7.proc/drivers/pci/proc.c
@@ -33,7 +33,7 @@ proc_bus_pci_lseek(struct file *file, lo
 		new = file->f_pos + off;
 		break;
 	case 2:
-		new = -EINVAL;
+		new = inode->i_size + off;
 		break;
 	}
 	if (new < 0 || new > inode->i_size)
@@ -82,7 +82,7 @@ proc_bus_pci_read(struct file *file, cha
 	if (!access_ok(VERIFY_WRITE, buf, cnt))
 	{
 		up(&ino->i_sem);
-		return -EINVAL;
+		return -EFAULT;
 	}
 
 	if ((pos & 1) && cnt) {
@@ -162,7 +162,7 @@ proc_bus_pci_write(struct file *file, co
 	if (!access_ok(VERIFY_READ, buf, cnt))
 	{
 		up(&ino->i_sem);
-		return -EINVAL;
+		return -EFAULT;
 	}
 	if ((pos & 1) && cnt) {
 		unsigned char val;
