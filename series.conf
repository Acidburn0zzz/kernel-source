# Kernel patches configuration file
#
# The following symbols are defined depending on the target architecture:
#	alpha ia64 mips mips64 ppc ppc64 s390 s390x sparc sparc64 x86_64
#	i386 .. i686
#
# The following extra symbols are defined:
#	IA32 (on i?86)
#	PPC (on ppc and ppc64)
#	MIPS (on mips and mips64)
#	S390 (on s390 and s390x)
#	SPARC (on sparc and sparc64)
#
# There are three kinds of rules (see guards.1 for details):
# +symbol	include this patch if symbol is defined; otherwise exclude.
# -symbol	exclude this patch if symbol is defined; otherwise include.
# -		exclude this patch.

	########################################################
	# latest standard kernel patches
	patches.fixes/linux-2.6.3-rc3
	patches.fixes/linux-post-2.6.3-rc3-20040216

	# Disable dmapool for non-PCI systems
	patches.fixes/dmapool-nopci.patch

	########################################################
	# patches in mm tree / submitted to Linus
	
	patches.drivers/i4l-linux-2.6.2.patch

	########################################################
	# patch for more testing under SMP
	patches.drivers/isdn_remove_broken_on_smp.patch


	########################################################
	#
	# patches for certain architectures
	#
	# NOTE: arch specific patches should be applied at the
	# end normally!!!!!
	#

	# ia64
	patches.arch/ia64-generic
	patches.arch/ia64-early-printk
	patches.arch/stack-limit
	patches.arch/ia64-ilp32

	# i386
	patches.arch/early_printk
	patches.arch/optimize-686
	# enable -funit-at-a-time + one bug fix required for it
	patches.arch/i386-enable-unit-at-a-time
	# enable -mregparm=3 
	patches.arch/i386-regparm


	# amd64
-	patches.arch/x86_64-patchkit

	# ppc32 bk://ppc.bkbits.net/linuxppc-2.5-benh
-	patches.arch/linuxppc-2.5-benh-2.6.3-rc1-ben1
	patches.arch/linuxppc-2.5-benh-2.6.3-rc2-ben1
	patches.arch/linuxppc-2.5-benh-2.6.2-ben1.fixup

	patches.fixes/root_dev-partition3
	patches.arch/suse-ppc32-chrp-rootdevice
	patches.arch/suse-ppc32-prep-rootdevice
	patches.arch/suse-ppc32-pmac-rootdevice
	# init zilog only on pmac
	patches.fixes/ppc32-pmac_zilog-consoleinit
	# update debugging code, dont use memcpy to avoid deadly exceptions in OF
	patches.suse/suse.ppc32.boot.zlib.debug
	patches.suse/suse.ppc32.boot.zlib.no_memcpy

	# the ppc32 common config runs also on PReP/CHRP, which uses PC style IO devices
	# the probing is bogus, it crashes or floods dmesg
	# just exit on pmac
	patches.suse/suse.ppc32.pmac.no_i8042.patch
	patches.suse/suse.ppc32.pmac.no_isapnp.patch
	patches.suse/suse.ppc32.pmac.no_pc_serial.patch
	patches.suse/suse.ppc32.pmac.no_pc_floppy.patch

	# avoid unhandled alignment exceptions 
	patches.suse/suse.ppc32.601cpu.exception

	# discard a kernel section, breaks OF booting
	patches.suse/suse.ppc32.boot.ldscript.__kcrctab
	# rebuild boot files if ld.script changes
	patches.suse/suse.ppc32.boot.ldscript.depend
	# put a built-in cmdline into zImage, overrides stuff passed from OF
	patches.suse/suse.ppc32.boot.zimage.built-in.cmdline
	# autodetect serial console on pmac and CHRP
-	patches.suse/suse.ppc32.console.autodetection
	patches.suse/suse.ppc32.ksymoops.calltrace.patch
-	patches.suse/suse.ppc32.export.cpu_possible_map


	# ppc64
	patches.arch/ppc64.patch
	patches.arch/ppc64.asm_vio_PCI_DMA_NONE.patch
	patches.arch/suse-ppc64-pcihotplug-rpa
	patches.arch/suse-ppc64-miscdev-late_initcall
-	patches.arch/suse-ppc64-pcihotplug-makefile
	patches.suse/suse-ppc64-chrp-root-sda3
	patches.suse/suse-ppc64-ksymoops.calltrace.patch
	patches.suse/suse-ppc64-wchan64
	# update a few files to current binutils cvs status
	patches.suse/suse-ppc64-kdb.disassembler.update

	# ibmsis replacement,
	# older iseries systems do still need ibmsis
	patches.drivers/ibm-ipr-2.0.0.patch
	patches.drivers/ibm-ipr-scsi-start_unit.patch
	patches.drivers/scsi-type-RAID.patch


	# KDB (currently only available from the ppc64 tree)
	patches.suse/kdb-common
	patches.suse/kdb-common-sysctl_h
	patches.suse/kdb-common-inital_env
	# add missing header
	patches.fixes/kdb-dis-asm.h

	# LKCD
	patches.suse/kerntypes

	# reiserfs xattr and acl support
	patches.suse/reiserfs-nesting-02
	patches.suse/reiserfs-xattrs-04
	patches.suse/reiserfs-acl-02
	patches.suse/reiserfs-trusted-02
	patches.suse/reiserfs-selinux-02
	patches.suse/reiserfs-xattr-locking-02

	########################################################
	# nfsacl protocol (agruen)
	patches.suse/qsort
	patches.suse/sunrpc-enosys-when-unavail
	patches.suse/sunrpc-multiple-programs
	patches.suse/sunrpc-xdr-arrays
	patches.suse/nfs-access-acl
	patches.suse/nfsd-acl
	patches.suse/nfs-acl
	patches.fixes/kconfig-symbol
	patches.fixes/acl-version-mismatch.diff

	########################################################
	# xfs dmapi (xdsm, hsm) (agruen)
	patches.suse/xfs-cvs
	patches.suse/xfs-dmapi
	patches.suse/xfs-dmapi-reloc

	# Submitted for discussion:
	patches.fixes/ext23-no-ace-read-limit.diff
-	patches.fixes/ext23-no-ace-write-limit.diff

	########################################################
	#
	# user mode linux
	#

	# uml patch from sf.net
	patches.uml/uml-patch-2.6.1-1
	patches.uml/uml-host-skas3

	# fixes on top of that ...
	patches.uml/uml-fix-skas
	patches.uml/uml-fix-selinux
	patches.uml/uml-fix-sysrq
	patches.uml/uml-fix-ramsize
	patches.uml/uml-fix-dma-mapping
	patches.uml/uml-extraversion
	patches.uml/uml-blaisorblade-modules


	########################################################
	#
	# misc small fixes
	#
	patches.fixes/permission
	patches.fixes/permission-reiserfs
	patches.fixes/ppc32-macfloppy-swim3-float

	patches.fixes/xconfig-lib64

	# Hotfix for Reiserfs+RPM bug
	patches.suse/reiserfs-iosize-hotfix

	# http://bugme.osdl.org/show_bug.cgi?id=817
	patches.fixes/drivers.net.pcnet32.watchdog.spinlock

-	patches.fixes/missing-headers
	patches.fixes/assembly-inline
	patches.fixes/char-sx-buildfix
	patches.fixes/genksyms
	patches.fixes/export_symbol
	patches.fixes/mtd-cmdlinepart-header

	# Fix big kmalloc
	patches.fixes/kmalloc-max

	# noone must ever read that file
	# it does not exist
	patches.fixes/proc_bus_usb_bielefeld

	# Overwrite the bios ACPI DSDT with one attached to the initrd
	patches.suse/acpi-dsdt-from-initrd

	# firewire repo from svn://svn.linux1394.org/ieee1394/trunk
	# leave it disabled if vanilla kernel is in sync
-	patches.drivers/firewire_ieee1394

	# based on changes from the linuxwacom project
	# http://switch.dl.sourceforge.net/sourceforge/linuxwacom/
	patches.drivers/driver-input-linuxwacom.patch

	# TIOCGDEV
	patches.fixes/tiocgdev

	# Fix bad pointer in megaraid driver
	patches.fixes/megaraid

	# Translate LF to CRLF instead of LFCR
	patches.fixes/serial_console

	# Misc other NFS patches
	patches.fixes/nfs-d_drop-lowmem
	patches.fixes/nfs-min-blocksize
	patches.fixes/nfs-optimistic-caching
	patches.suse/sunrpc-more-slots
	patches.fixes/nfsd-largefile-commit
	patches.fixes/nfs-unhash-silly-dentries
	patches.fixes/nfs-msync-fix
	patches.fixes/nfs-rename-cacheinv
	patches.fixes/nfs-directio-drop-semaphore
	patches.fixes/sunrpc-no-memset
	patches.fixes/nfs-interruptible
	# Kernel level statd
-	patches.suse/kernel-statd

	# Also support the old nat traversal packet format (non-IKE markers)
	patches.fixes/ipsec-nat-t-old
	patches.fixes/sata_sil_enable
	patches.suse/ext3-register-filesystem-lifo

	patches.fixes/alpha-compile

	########################################################
	#
	# USAGI IPv6 patches
	#
	patches.fixes/usagi-ipv6-esp-null
	patches.suse/usagi-ipv6-addrselect
	patches.suse/usagi-ipv6-ipv6-tunnel
	patches.fixes/usagi-ipv6-privacy
	patches.suse/usagi-ipv6-ipcomp
	patches.suse/usagi-ipv6-fib-subtree
	patches.suse/usagi-ipv6-ndisc

	########################################################
	#
	# device drivers added to the suse kernel
	#
	patches.drivers/scsi-changer
	patches.drivers/lirc-drivers.diff

-	patches.drivers/qla2xxx
-	patches.drivers/qla2xxx-bad-ioctl
-	patches.drivers/qla2xxx-integrate

	# suse-2.4 compatible crypto loop driver
	patches.suse/twofish-2.6
	patches.fixes/loopmount-release

	# aio related patches
	patches.suse/aio-retry.patch
	patches.suse/aio-retry-elevated-refcount.patch
	patches.suse/reiserfs-aio
	patches.suse/pipe-aio
	patches.suse/aio-cancel

	# kraxel's video4linux updates

	########################################################
	#
	# Patches for S/390 from SUSE which don't rely on IBM's
	# patches:
      	#

	# Export extended cpcmd function for cpint:
	patches.arch/s390-suse-bk-cpint_cpcmd.diff

	patches.arch/s390-export-module-symbols
-	patches.arch/s390-gcc-inline-assembly
-	patches.fixes/s390-atomic_prototype
-	patches.fixes/s390-ffs-fix.diff

	# Good old DEC alpha 

	# use early userspace to collect "hotplug" events, for debugging
	# mount the root filesystem on /root
	# obsoletes linuxrc and its initrd protocol
	# kinit=/foo/bar or /sbin/init (from initramfs) will run, instead of linuxrc
	# expects a cpio archive, created with cpio -c:
	# cd usr/initrd/ ; find . | cpio -Lovc | gzip -v9 > ../../arch/ppc/boot/images/ramdisk.image.gz
	patches.suse/early_userspace-instead-of-linuxrc
	patches.suse/early_userspace-instead-of-linuxrc.debug

	########################################################
	#
	# packaging-specific patches (tweaks for autobuild,
	# CONFIG_SUSE_KERNEL, config/version tracking and other
	# stuff like that ...).
	#
	patches.rpmify/rpm-kernel-config
	patches.rpmify/buildhost
	patches.rpmify/meta-config
	patches.rpmify/meta-config-version
	patches.rpmify/kbuild-out-of-tree
	patches.rpmify/kbuild-out-of-tree-meta

	# bootsplash (stepan)
	patches.suse/bootsplash
	patches.suse/bootsplash-fixdep

	# Make sure that `make distclean' doesn't wipe out any files in
	# quilt's metadata directory (.pc/).
	patches.fixes/distclean-fix


	# FIXME: These patches currently are not referenced in series.conf.
-	patches.arch/s390-compat_wrapper

