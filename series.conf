# Kernel patches configuration file
#
# The following symbols are defined depending on the target architecture:
#	alpha ia64 mips mips64 ppc ppc64 s390 s390x sparc sparc64 x86_64
#	i386 .. i686
#
# The following extra symbols are defined:
#	IA32 (on i?86)
#	PPC (on ppc and ppc64)
#	MIPS (on mips and mips64)
#	S390 (on s390 and s390x)
#	SPARC (on sparc and sparc64)
#
# There are three kinds of rules (see guards.1 for details):
# +symbol	include this patch if symbol is defined; otherwise exclude.
# -symbol	exclude this patch if symbol is defined; otherwise include.
# -		exclude this patch.

	########################################################
	# latest standard kernel patches
	patches.fixes/linux-post-2.6.3-20040220
	patches.fixes/linux-post-2.6.3-20040221
	patches.fixes/linux-post-2.6.3-20040222
	patches.fixes/linux-post-2.6.3-20040223
	patches.fixes/linux-post-2.6.3-20040227
	patches.fixes/linux-post-2.6.4rc1-20040228
	patches.fixes/linux-post-2.6.4rc1-20040301
	patches.fixes/linux-post-2.6.4rc1-20040302
	patches.fixes/linux-post-2.6.4rc1-20040303
	patches.fixes/linux-2.6.4rc2
	patches.fixes/linux-post-2.6.4rc2-20040305
	patches.fixes/linux-post-2.6.4rc2-20040306
	patches.fixes/linux-post-2.6.4rc2-20040307
	patches.fixes/linux-post-2.6.4rc2-20040309
	patches.fixes/linux-post-2.6.4rc3-20040310

-	patches.fixes/xfs-export-filemap_flush.patch

	# will be in next official kernel again; IBM wants it now
	patches.fixes/adaptive-lazy-readahead

	# CONFIG_REGPARM reveals a few missing asmlinkage
	# declarations:
-	patches.fixes/regparm-fix.diff
-	patches.fixes/regparm-fix2.diff
-	patches.fixes/regparm-fix3.diff

	patches.fixes/checksum-postrouting

	# Disable dmapool for non-PCI systems
	patches.fixes/dmapool-nopci.patch

	########################################################
	# patches in mm tree / submitted to Linus

-	patches.drivers/i4l-linux-2.6.2.patch

	########################################################
	# patch for more testing under SMP
	patches.drivers/isdn_remove_broken_on_smp.patch


	########################################################
	#
	# patches for certain architectures
	#
	# NOTE: arch specific patches should be applied at the
	# end normally!!!!!
	#

	# ia64
	patches.arch/ia64-generic
	patches.arch/ia64-early-printk
	patches.arch/stack-limit
	patches.arch/ia64-ilp32
	patches.arch/hp-sx1000
	patches.arch/hp-sx1000-fix
	patches.arch/sn2-pal-idle
	patches.arch/sn_serial

	# i386
	patches.arch/optimize-686
	# enable -funit-at-a-time + one bug fix required for it
	patches.arch/i386-enable-unit-at-a-time
	# work around an erratum in AMD768MPX
	patches.arch/mpx-erratum

	# amd64
	patches.arch/x86_64-patchkit


	patches.fixes/root_dev-partition3
	patches.arch/suse-ppc32-chrp-rootdevice
	patches.arch/suse-ppc32-prep-rootdevice
	patches.arch/suse-ppc32-pmac-rootdevice
	# init zilog only on pmac
	patches.fixes/ppc32-pmac_zilog-consoleinit
	# update debugging code, dont use memcpy to avoid deadly exceptions in OF
	patches.suse/suse.ppc32.boot.zlib.debug
	patches.suse/suse.ppc32.boot.zlib.no_memcpy

	# the ppc32 common config runs also on PReP/CHRP, which uses PC style IO devices
	# the probing is bogus, it crashes or floods dmesg
	# just exit on pmac
	patches.suse/suse.ppc32.pmac.no_i8042.patch
	patches.suse/suse.ppc32.pmac.no_isapnp.patch
	patches.suse/suse.ppc32.pmac.no_pc_serial.patch
	patches.suse/suse.ppc32.pmac.no_pc_floppy.patch

	# avoid unhandled alignment exceptions 
	patches.suse/suse.ppc32.601cpu.exception

	# discard a kernel section, breaks OF booting
	patches.suse/suse.ppc32.boot.ldscript.__kcrctab
	# rebuild boot files if ld.script changes
	patches.suse/suse.ppc32.boot.ldscript.depend
	# put a built-in cmdline into zImage, overrides stuff passed from OF
	patches.suse/suse.ppc32.boot.zimage.built-in.cmdline
	# autodetect serial console on pmac and CHRP
-	patches.suse/suse.ppc32.console.autodetection
	patches.suse/suse.ppc32.ksymoops.calltrace.patch


	# ppc64
	patches.arch/ppc64.patch
-	patches.suse/suse-ppc64-clear_user_page-power3
	patches.arch/ppc64.patch.export.iSeries_veth_dev
	patches.arch/suse-ppc64-miscdev-late_initcall
	patches.suse/suse-ppc64-chrp-root-sda3
	patches.suse/suse-ppc64-pseries-nvram
	patches.suse/suse-ppc64-pseries-scanlog-init
	patches.suse/suse-ppc64-power4-softfloat
	# update a few files to current binutils cvs status
	patches.suse/suse-ppc64-kdb.disassembler.update
	patches.suse/suse-ppc64-xmon.disassembler.update
	patches.suse/suse-ppc64-xmon_backtrace.patch
-	patches.suse/suse-ppc64-export-find_next_bit

	# ibmsis replacement,
	# older iseries systems do still need ibmsis
-	patches.drivers/ibm-ipr-2.0.0.patch
-	patches.drivers/patch-2.6.3-ipr-pci-ids
-	patches.drivers/ibm-ipr-scsi-start_unit.patch
-	patches.drivers/scsi-type-RAID.patch

	# emulex fibrechannel drivers
	# lpfcdriver-2.10a.tar.gz
	patches.drivers/emulex-lpfc
	patches.drivers/emulex-lpfc-kbuild

	# KDB v4.3
	patches.suse/kdb-common
	patches.suse/kdb-i386
	patches.suse/kdb-ia64
	patches.suse/kdb-common-sysctl_h
	patches.suse/kdb-common-startKDB

	# reiserfs data=ordered, xattr and acl support
	patches.suse/reiserfs-lock-lat 
	patches.suse/reiserfs-search-restart 
	patches.suse/reiserfs-should_end-jbegin 
	patches.suse/reiserfs-write-sched-bug
	patches.suse/reiserfs-nesting-02
	patches.suse/reiserfs-journal-writer
	patches.suse/reiserfs-logging 
	patches.suse/reiserfs-jh-2
	patches.suse/reiserfs-xattrs-04
	patches.suse/reiserfs-acl-02
	patches.suse/reiserfs-acl-mknod.diff
	patches.suse/reiserfs-trusted-02
	patches.suse/reiserfs-selinux-02
	patches.suse/reiserfs-xattr-locking-02
	patches.suse/reiserfs-quota

	########################################################
	# nfsacl protocol (agruen)
	patches.suse/qsort
	patches.suse/sunrpc-enosys-when-unavail
	patches.suse/sunrpc-multiple-programs
	patches.suse/sunrpc-xdr-arrays
	patches.suse/nfs-access-acl
	patches.suse/nfsd-acl
	patches.suse/nfs-acl
	patches.fixes/acl-version-mismatch.diff

	########################################################
	# xfs dmapi (xdsm, hsm) (agruen)
	patches.suse/xfs-cvs
	patches.suse/xfs-dmapi-reloc
	patches.suse/xfs-fixup

	# Submitted for discussion:
	patches.fixes/ext23-no-ace-read-limit.diff
-	patches.fixes/ext23-no-ace-write-limit.diff

	########################################################
	#
	# user mode linux
	#

	# uml patch from sf.net
	patches.uml/uml-patch-2.6.3-rc2-1
	patches.uml/uml-host-skas3

	# fixes on top of that ...
	patches.uml/uml-fix-skas
	patches.uml/uml-extraversion
	patches.uml/uml-patch-2.6.3-rc2-1-fix
	patches.uml/uml-fix-user-symtab
	patches.uml/uml-fix-init-used
	patches.uml/uml-fix-syscalls
	patches.uml/uml-fix-umldir-order


	########################################################
	#
	# misc small fixes
	#
-	patches.fixes/permission
	patches.fixes/permission-reiserfs
	patches.suse/max-init-args
	patches.fixes/cs55x0-pcitbl

-	patches.fixes/xconfig-lib64

	patches.fixes/pcihotplug

	# Hotfix for Reiserfs+RPM bug
	patches.suse/reiserfs-iosize-hotfix

	# http://bugme.osdl.org/show_bug.cgi?id=817

-	patches.fixes/missing-headers
	patches.fixes/assembly-inline
	patches.fixes/char-sx-buildfix
	patches.fixes/genksyms
	patches.fixes/export_symbol
	patches.fixes/mtd-cmdlinepart-header
	patches.fixes/libata-core.diff
	# Fix big kmalloc
	patches.fixes/kmalloc-max

	# noone must ever read that file
	# it does not exist
	patches.fixes/proc_bus_usb_bielefeld

	# Overwrite the bios ACPI DSDT with one attached to the initrd
	patches.suse/acpi-dsdt-from-initrd

	# power management stuff
	patches.fixes/suspend-asmlinkage

	# firewire repo from svn://svn.linux1394.org/ieee1394/trunk
	# leave it disabled if vanilla kernel is in sync
-	patches.drivers/firewire_ieee1394

	# based on changes from the linuxwacom project
	# http://switch.dl.sourceforge.net/sourceforge/linuxwacom/
	patches.drivers/driver-input-linuxwacom.patch

	# TIOCGDEV
	patches.fixes/tiocgdev

	# Fix bad pointer in megaraid driver
	patches.fixes/megaraid

	# Translate LF to CRLF instead of LFCR
	patches.fixes/serial_console

	# Misc other NFS patches
	patches.fixes/nfs-d_drop-lowmem
	patches.fixes/nfs-min-blocksize
	patches.fixes/nfs-optimistic-caching
	patches.suse/sunrpc-more-slots
-	patches.fixes/nfsd-largefile-commit
	patches.fixes/nfs-unhash-silly-dentries
	patches.fixes/nfs-msync-fix
	patches.fixes/nfs-rename-cacheinv
	patches.fixes/nfs-directio-drop-semaphore
	patches.fixes/sunrpc-no-memset
	patches.fixes/nfs-interruptible
	patches.fixes/nfs-short-read
	# Experimental fix for "rpc_execute in D state" bug
	patches.fixes/sunrpc-nulltimeout
	# Kernel level statd
	patches.suse/kernel-statd

	# Also support the old nat traversal packet format (non-IKE markers)
	patches.fixes/ipsec-nat-t-old
	patches.fixes/sata_sil_enable
	patches.suse/ext3-register-filesystem-lifo

	patches.fixes/alpha-compile

	# Fix UDP recvmsg EAGAIN behavior
	patches.fixes/udp-no-eagain

	patches.fixes/fix-rmmod-hang
-	patches.fixes/alarm-round

	# fix ATI XL initialization code
	patches.drivers/atixl-noinit-2.6.2

	patches.suse/disk_laptop_mode

-	patches.fixes/fix-pciehprm_acpi
	patches.fixes/fix-serio-loop
	patches.fixes/loop-isize.diff
	patches.fixes/fix-psmouse-reconnect-oops

	patches.drivers/i810-x86_64

	# Fix partial reads on block devices
	patches.fixes/blkdev_get_block-partial

	# Fix USB oops
	patches.fixes/ia64-ohci.patch

	########################################################
	#
	# USAGI IPv6 patches
	#
	patches.fixes/usagi-ipv6-esp-null
	patches.suse/usagi-ipv6-addrselect
	patches.suse/usagi-ipv6-ipv6-tunnel
	patches.fixes/usagi-ipv6-privacy
	patches.suse/usagi-ipv6-ipcomp
	patches.suse/usagi-ipv6-fib-subtree
	patches.suse/usagi-ipv6-ndisc
	patches.suse/usagi-ipv6-netfilter
	patches.suse/usagi-ipv6-conntrack
	patches.suse/suse-ipv6-rt-expiry
	patches.suse/usagi-ipv6-fragment
	patches.fixes/suse-ipv6-mld2
-	patches.fixes/ipv6-rtm-dump-no-mcast
-	patches.suse/suse-ipv6-debug

	patches.suse/ibm-mipv6-patch

	########################################################
	#
	# device drivers added to the suse kernel
	#
	patches.drivers/scsi-changer
	patches.drivers/lirc-drivers.diff

	patches.drivers/qla2xxx-update
	patches.drivers/qla2xxx-bad-ioctl

-	patches.drivers/ibmasm
	patches.drivers/ibmasm-compile
	patches.drivers/bcm5700
	patches.drivers/bcm4400

	patches.drivers/cpqarray-update-1
	patches.drivers/cpqarray-update-2
	patches.drivers/cpqarray-update-3
	patches.drivers/cpqarray-update-4
	patches.drivers/cpqarray-update-5

	patches.drivers/cciss-update

	# suse-2.4 compatible crypto loop driver
	patches.suse/twofish-2.6
-	patches.fixes/dirty-address-space-1

	# aio related patches
	patches.suse/aio-retry.patch
	patches.suse/aio-retry-elevated-refcount.patch
	patches.suse/reiserfs-aio
	patches.suse/pipe-aio
	patches.suse/aio-cancel
	patches.suse/aio-poll
	patches.suse/aio-read-immediate
	patches.suse/aio-context-switch

	# kraxel's video4linux updates


	# /proc/*/mapped_base
	patches.suse/mapped-base

	# scsi-many
	patches.suse/sd-many-4
	patches.suse/sg-many-1
	patches.suse/scsi_sysfs-procname-2

	# Many raw devs
	patches.suse/raw-many

	# Altix partitioning drivers (xpnet)
	patches.drivers/xpnet-01-fetchop
	patches.drivers/xpnet-02-exports
	patches.drivers/xpnet-03-xp
	patches.drivers/xpnet-04-xpc
	patches.drivers/xpnet-05-xpnet
	patches.drivers/xpnet-06-defconfig

	# IOC4 serial driver
	patches.drivers/ioc4-serial

	########################################################
	#
	# S/390 Update from IBM (pre-lobster codedrop)
	#
	# Will be removed once all of them are merged
	# into the mainline
-	patches.arch/s390-01-base
-	patches.arch/s390-02-cio
-	patches.arch/s390-03-console
	patches.arch/s390-04-zfcp
	patches.arch/s390-05-zfcp-log
-	patches.arch/s390-06-tape
-	patches.arch/s390-07-xpram
	patches.arch/s390-08-crypt
-	patches.arch/s390-09-kerntypes
	patches.arch/s390-10-eui64
	patches.arch/s390-11-slabdebug
	patches.arch/s390-12-sysfs
	patches.arch/s390-nohz-timer
	########################################################
	#
	# Patches for S/390 from SUSE which don't rely on IBM's
	# patches:
      	#

	# Export extended cpcmd function for cpint:
	patches.arch/s390-suse-bk-cpint_cpcmd.diff

	# Fix sysfs entries for net drivers
	patches.fixes/s390-sysfs-net.patch

-	patches.fixes/s390-atomic_prototype
-	patches.fixes/s390-ffs-fix.diff

	# Good old DEC alpha 

	# use early userspace to collect "hotplug" events, for debugging
	# mount the root filesystem on /root
	# obsoletes linuxrc and its initrd protocol
	# kinit=/foo/bar or /sbin/init (from initramfs) will run, instead of linuxrc
	# expects a cpio archive, created with cpio -c:
	# cd usr/initrd/ ; find . | cpio -Lovc | gzip -v9 > ../../arch/ppc/boot/images/ramdisk.image.gz
	patches.suse/early_userspace-instead-of-linuxrc
	patches.suse/early_userspace-instead-of-linuxrc.debug

	# more regparam fixups stuff ...
-	patches.fixes/fastcall.diff

	########################################################
	#
	# packaging-specific patches (tweaks for autobuild,
	# CONFIG_SUSE_KERNEL, config/version tracking and other
	# stuff like that ...).
	#
	patches.rpmify/rpm-kernel-config
	patches.rpmify/buildhost
	patches.rpmify/meta-config
	patches.rpmify/meta-config-version
	patches.rpmify/kbuild-out-of-tree
	patches.rpmify/kbuild-out-of-tree-meta

	# bootsplash (stepan)
	patches.suse/bootsplash

	# Make sure that `make distclean' doesn't wipe out any files in
	# quilt's metadata directory (.pc/).
	patches.fixes/distclean-fix

	patches.drivers/ppc64-adb
	patches.drivers/scsi-sata-mmio


	# FIXME: These patches currently are not referenced in series.conf.
-	patches.arch/s390-compat_wrapper
	patches.fixes/missing-exports.diff
-	patches.fixes/icn-strchr-bug.diff

	# lkcd 
	patches.suse/netpoll.patch
	patches.suse/lkcd-driver-common-linux263.patch
	patches.suse/lkcd-driver-i386-linux263.patch
	patches.suse/lkcd-kernel-changes-linux263.patch
	patches.suse/lkcd-netdump-netpoll-linux263.patch
	patches.suse/dump_init-fix
	patches.suse/lkcd-kerntypes.patch

	# infiniband
	patches.drivers/infiniband
	patches.drivers/infiniband-jobs
	patches.drivers/infiniband-compile
	patches.drivers/infiniband-up

	# evlog patches for IBM
	patches.suse/evlog
	patches.suse/evlog-legacy
-	patches.suse/printkat
	patches.suse/netdev
-	patches.suse/netdev_pkat
-	patches.suse/dev_pkat

+parisc	patches.arch/parisc-2.6.3-pa2

	# device mapper patches
	patches.suse/dm-endio.patch
-	patches.suse/dm-rm-v1-ioctl.patch 
	patches.suse/dm-list_audit.patch
	patches.suse/dm-queue-limit.patch
	patches.suse/dm-list-ioctl.patch
	patches.suse/dm-multipath.patch
	patches.suse/dm-io.patch
	patches.suse/dm-kcopyd.patch
	patches.suse/dm-snapshot.patch
	patches.suse/dm-mirror.patch
	patches.suse/dm-flakey.patch
	patches.suse/vfs-locking-2

	# ALSA
	patches.fixes/alsa-bk-2004-03-01.patch
	patches.suse/alsa-atiixp-add

	# objrmap
	patches.fixes/objrmap-core

	# workaround for http://bugzilla.suse.de/show_bug.cgi?id=34898
	patches.suse/suse-con_set_unimap.patch
