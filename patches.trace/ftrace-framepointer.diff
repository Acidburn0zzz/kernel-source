From: Jan Blunck <jblunck@suse.de>
Subject: Select FRAME_POINTER only on SYSPROF_TRACER
Date: Wed Sep 24 10:32:16 CEST 2008

The only tracer that requires frame pointers is the sysprof trace. Since this
tracer copies the functionality of oprofile, it isn't required at all.

Signed-off-by: Jan Blunck <jblunck@suse.de>
---
 kernel/trace/Kconfig |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/kernel/trace/Kconfig
+++ b/kernel/trace/Kconfig
@@ -51,7 +51,6 @@ config FUNCTION_TRACER
 	bool "Kernel Function Tracer"
 	depends on HAVE_FUNCTION_TRACER
 	depends on DEBUG_KERNEL
-	select FRAME_POINTER
 	select TRACING
 	select CONTEXT_SWITCH_TRACER
 	help
@@ -126,6 +125,7 @@ config SYSPROF_TRACER
 	bool "Sysprof Tracer"
 	depends on X86
 	select TRACING
+	select FRAME_POINTER
 	help
 	  This tracer provides the trace needed by the 'Sysprof' userspace
 	  tool.
