diff -purN linux-2.6.4/drivers/net/Kconfig linux-2.6.4.emulex/drivers/net/Kconfig
--- linux-2.6.4/drivers/net/Kconfig	2004-03-22 22:22:33.000000000 +0000
+++ linux-2.6.4.emulex/drivers/net/Kconfig	2004-03-22 22:28:51.000000000 +0000
@@ -2491,6 +2491,13 @@ config NET_FC
 	  adaptor below. You also should have said Y to "SCSI support" and
 	  "SCSI generic support".
 
+config NET_LPFC
+        tristate "Emulex LightPulse IP over FC Support"
+        depends on MODULES && NET_FC && SCSI_LPFC && m && (PPC_PSERIES || PPC_ISERIES || IA64 || X86)
+	help
+          The lpfndd driver provides IP over FC Support for the Emulex
+          LightPulse Family of Fibre Channel PCI host adapters.
+
 config IPHASE5526
 	tristate "Interphase 5526 Tachyon chipset based adapter support"
 	depends on NET_FC && SCSI && PCI && BROKEN
diff -purN linux-2.6.4/drivers/net/Makefile linux-2.6.4.emulex/drivers/net/Makefile
--- linux-2.6.4/drivers/net/Makefile	2004-03-22 22:22:33.000000000 +0000
+++ linux-2.6.4.emulex/drivers/net/Makefile	2004-03-22 22:29:05.000000000 +0000
@@ -183,6 +183,7 @@ obj-$(CONFIG_IBMVETH) += ibmveth.o
 
 obj-$(CONFIG_ARM) += arm/
 obj-$(CONFIG_NET_FC) += fc/
+obj-$(CONFIG_NET_LPFC)	+= lpfc/
 obj-$(CONFIG_DEV_APPLETALK) += appletalk/
 obj-$(CONFIG_TR) += tokenring/
 obj-$(CONFIG_WAN) += wan/
diff -purN linux-2.6.4/drivers/net/lpfc/Makefile linux-2.6.4.emulex/drivers/net/lpfc/Makefile
--- linux-2.6.4/drivers/net/lpfc/Makefile	1970-01-01 00:00:00.000000000 +0000
+++ linux-2.6.4.emulex/drivers/net/lpfc/Makefile	2004-03-22 22:51:55.000000000 +0000
@@ -0,0 +1,3 @@
+obj-$(CONFIG_NET_LPFC) += lpfndd.o
+lpfndd-objs := lpfcLINUXlan.o
+EXTRA_CFLAGS += -Idrivers/scsi/lpfc
diff -purN linux-2.6.4/drivers/scsi/Kconfig linux-2.6.4.emulex/drivers/scsi/Kconfig
--- linux-2.6.4/drivers/scsi/Kconfig	2004-03-22 22:23:58.000000000 +0000
+++ linux-2.6.4.emulex/drivers/scsi/Kconfig	2004-03-22 22:30:06.000000000 +0000
@@ -1005,6 +1005,13 @@ config SCSI_SYM53C8XX_IOMAPPED
 	  the card.  This is significantly slower then using memory
 	  mapped IO.  Most people should answer N.
 
+config SCSI_LPFC
+	tristate "Emulex LightPulse Fibre Channel Support"
+	depends on PCI && SCSI && (PPC_PSERIES || PPC_ISERIES || IA64 || X86)
+	help
+          This lpfcdd driver supports the Emulex LightPulse
+          Family of Fibre Channel PCI host adapters.
+
 config SCSI_IPR
 	tristate "IBM Power Linux RAID adapter support"
 	depends on PCI && SCSI
diff -purN linux-2.6.4/drivers/scsi/Makefile linux-2.6.4.emulex/drivers/scsi/Makefile
--- linux-2.6.4/drivers/scsi/Makefile	2004-03-22 22:23:58.000000000 +0000
+++ linux-2.6.4.emulex/drivers/scsi/Makefile	2004-03-22 22:30:13.000000000 +0000
@@ -125,6 +125,7 @@ obj-$(CONFIG_SCSI_SATA_SIL)	+= libata.o 
 obj-$(CONFIG_SCSI_SATA_VIA)	+= libata.o sata_via.o
 obj-$(CONFIG_SCSI_SATA_VITESSE)	+= libata.o sata_vsc.o
 obj-$(CONFIG_SCSI_IBMVSCSI)	+= ibmvscsi/
+obj-$(CONFIG_SCSI_LPFC)	+= lpfc/
 
 obj-$(CONFIG_ARM)		+= arm/
 
diff -purN linux-2.6.4/drivers/scsi/lpfc/Makefile linux-2.6.4.emulex/drivers/scsi/lpfc/Makefile
--- linux-2.6.4/drivers/scsi/lpfc/Makefile	1970-01-01 00:00:00.000000000 +0000
+++ linux-2.6.4.emulex/drivers/scsi/lpfc/Makefile	2004-03-22 22:51:48.000000000 +0000
@@ -0,0 +1,4 @@
+obj-$(CONFIG_SCSI_LPFC) := lpfcdd.o
+lpfcdd-objs := lpfc_core.o core.o prod_linux.o lpfcLINUXfcp.o
+
+EXTRA_CFLAGS += -Idrivers/scsi
diff -purN linux-2.6.4/drivers/scsi/lpfc/lp.sh linux-2.6.4.emulex/drivers/scsi/lpfc/lp.sh
--- linux-2.6.4/drivers/scsi/lpfc/lp.sh	1970-01-01 00:00:00.000000000 +0000
+++ linux-2.6.4.emulex/drivers/scsi/lpfc/lp.sh	2004-03-22 22:53:12.000000000 +0000
@@ -0,0 +1,47 @@
+d=$1
+s=drivers/scsi/lpfc/
+n=drivers/net/lpfc/
+mkdir $s $n
+set -ex
+for i in \
+lpfcLINUXlan.c \
+; do
+cp -fv $d/$i $n
+done
+
+for i in \
+lpfc.conf \
+core.c \
+lpfc_core.c \
+prod_linux.c \
+lpfcLINUXfcp.c \
+elx.h \
+elx_cfgparm.h \
+elx_clock.h \
+elx_crtn.h \
+elx_disc.h \
+elx_hw.h \
+elx_ioctl.h \
+elx_logmsg.h \
+elx_mem.h \
+elx_os.h \
+elx_os_scsiport.h \
+elx_sched.h \
+elx_scsi.h \
+elx_sli.h \
+elx_util.h \
+hbaapi.h \
+lpfc_cfgparm.h \
+lpfc_crtn.h \
+lpfc_diag.h \
+lpfc_disc.h \
+lpfc_hba.h \
+lpfc_hw.h \
+lpfc_ioctl.h \
+lpfc_ip.h \
+lpfc_module_param.h \
+prod_crtn.h \
+prod_os.h \
+; do
+cp -fv $d/$i $s
+done
