Index: linux-2.6.8/drivers/infiniband/core/Makefile
===================================================================
--- linux-2.6.8.orig/drivers/infiniband/core/Makefile
+++ linux-2.6.8/drivers/infiniband/core/Makefile
@@ -106,7 +106,7 @@ $(obj)/mad_static.o: $(obj)/smp_access.h
 $(ib_cm-objs:%=$(obj)/%): $(obj)/cm_packet.h
 
 quiet_cmd_gendecode = GEN     $@
-      cmd_gendecode = $(PERL) $(src)/generate_pkt_access.pl $(FTYPE) \
+      cmd_gendecode = $(PERL) $(srctree)/$(src)/generate_pkt_access.pl $(FTYPE) \
                       $< > $@ || ( rm -f $@ && exit 1 )
 
 targets += smp_access.h
@@ -170,7 +170,7 @@ $(obj)/pm_export.c: $(src)/pm_packet.des
 	$(call if_changed,gendecode)
 
 quiet_cmd_gencmpkt = GEN     $@
-      cmd_gencmpkt = $(PERL) $(src)/generate_cm_packet.pl $(FTYPE) \
+      cmd_gencmpkt = $(PERL) $(srctree)/$(src)/generate_cm_packet.pl $(FTYPE) \
                      $(src)/cm_packet_type.desc > $@ || ( rm -f $@ && exit 1 )
 
 targets += cm_packet.h
