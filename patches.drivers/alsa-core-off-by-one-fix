From: Adrian Bunk <bunk@stusta.de>
Subject: fix 3 off-by-one errors
Patch-mainline: 2.6.16-git
References: 

[ALSA] sound/core/: fix 3 off-by-one errors

This patch fixes three off-by-one errors found by the Coverity checker.

Signed-off-by: Adrian Bunk <bunk@stusta.de>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
commit 9e4bb2c294101bc879d5b57ecd2e38799cd88fa6
tree 4193a24e4e7701414284c4a7fb22fe8d5ab23e18
parent 9c16f6b64c1972c43caddb714786f9fc6b5fcf1d
author Adrian Bunk <bunk@stusta.de> Mon, 13 Mar 2006 15:14:10 +0100
committer Takashi Iwai <tiwai@suse.de> Mon, 13 Mar 2006 15:36:03 +0100

 sound/core/sound.c     |    4 ++--
 sound/core/sound_oss.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/sound/core/sound.c b/sound/core/sound.c
index df4ab94..4d28e52 100644
--- a/sound/core/sound.c
+++ b/sound/core/sound.c
@@ -121,7 +121,7 @@ void *snd_lookup_minor_data(unsigned int
 	struct snd_minor *mreg;
 	void *private_data;
 
-	if (minor > ARRAY_SIZE(snd_minors))
+	if (minor >= ARRAY_SIZE(snd_minors))
 		return NULL;
 	mutex_lock(&sound_mutex);
 	mreg = snd_minors[minor];
@@ -140,7 +140,7 @@ static int snd_open(struct inode *inode,
 	struct file_operations *old_fops;
 	int err = 0;
 
-	if (minor > ARRAY_SIZE(snd_minors))
+	if (minor >= ARRAY_SIZE(snd_minors))
 		return -ENODEV;
 	mptr = snd_minors[minor];
 	if (mptr == NULL) {
diff --git a/sound/core/sound_oss.c b/sound/core/sound_oss.c
index 6b4a4bc..4023d3b 100644
--- a/sound/core/sound_oss.c
+++ b/sound/core/sound_oss.c
@@ -46,7 +46,7 @@ void *snd_lookup_oss_minor_data(unsigned
 	struct snd_minor *mreg;
 	void *private_data;
 
-	if (minor > ARRAY_SIZE(snd_oss_minors))
+	if (minor >= ARRAY_SIZE(snd_oss_minors))
 		return NULL;
 	mutex_lock(&sound_oss_mutex);
 	mreg = snd_oss_minors[minor];
