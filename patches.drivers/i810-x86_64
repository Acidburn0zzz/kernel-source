diff -u linux-2.6.4rc2-amd64/drivers/video/i810/i810_main.h-o linux-2.6.4rc2-amd64/drivers/video/i810/i810_main.h
--- linux-2.6.4rc2-amd64/drivers/video/i810/i810_main.h-o	2004-03-05 18:28:00.000000000 +0100
+++ linux-2.6.4rc2-amd64/drivers/video/i810/i810_main.h	2004-03-11 21:08:26.000000000 +0100
@@ -84,7 +84,7 @@
 extern void i810fb_load_front     (u32 offset, struct fb_info *info);
 
 /* Conditionals */
-#if defined(__i386__)
+#ifdef CONFIG_X86
 inline void flush_cache(void)
 {
 	asm volatile ("wbinvd":::"memory");
