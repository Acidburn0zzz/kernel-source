From: Dave Jones <davej@redhat.com>
Subject: [ALSA] emu10k1_synth use after free
Patch-mainline: 2.6.16-git
References: 

[ALSA] emu10k1_synth use after free

Thou shalt not dereference freed memory.

Coverity bug #958

Signed-off-by: Dave Jones <davej@redhat.com>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
commit 9357c31fda39b5103cdd11450baaf752a73ad70a
tree 4697fbc03f1a4f48eec2faa44930c5b2e2c78978
parent 0af3a33c197eb210d9fd12fc41b25316e7b694b1
author Dave Jones <davej@redhat.com> Mon, 06 Mar 2006 14:27:39 +0100
committer Takashi Iwai <tiwai@suse.de> Mon, 06 Mar 2006 15:20:47 +0100

 sound/pci/emu10k1/emu10k1_synth.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

diff --git a/sound/pci/emu10k1/emu10k1_synth.c b/sound/pci/emu10k1/emu10k1_synth.c
index 1fa393f..204995a 100644
--- a/sound/pci/emu10k1/emu10k1_synth.c
+++ b/sound/pci/emu10k1/emu10k1_synth.c
@@ -62,7 +62,6 @@ static int snd_emu10k1_synth_new_device(
 
 	if (snd_emux_register(emu, dev->card, arg->index, "Emu10k1") < 0) {
 		snd_emux_free(emu);
-		emu->hw = NULL;
 		return -ENOMEM;
 	}
 
