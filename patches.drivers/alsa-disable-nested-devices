From: Takashi Iwai <tiwai@suse.de>
Subject: Disable the nested class devices
Patch-mainline: 
References: 141226

Disable the nested class devices to keep the backward compatibility.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
--- linux-2.6.15/sound/core/sound.c-dist	2006-01-03 20:24:25.000000000 +0100
+++ linux-2.6.15/sound/core/sound.c	2006-01-03 20:25:19.000000000 +0100
@@ -275,13 +275,13 @@ int snd_register_device(int type, struct
 		devfs_mk_cdev(MKDEV(major, minor), S_IFCHR | device_mode, "snd/%s", name);
 	if (card) {
 		device = card->dev;
-		class_device = card->parent_device;
+		/* class_device = card->parent_device; */
 	}
 	class_device = class_device_create(sound_class, class_device,
 					   MKDEV(major, minor), device,
 					   "%s", name);
-	if (type == SNDRV_DEVICE_TYPE_CONTROL)
-		card->parent_device = class_device;
+	/* if (type == SNDRV_DEVICE_TYPE_CONTROL)
+		card->parent_device = class_device; */
 
 	up(&sound_mutex);
 	return 0;
