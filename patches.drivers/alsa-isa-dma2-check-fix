From: Takashi Iwai <tiwai@suse.de>
Subject: [ALSA] Fix adding second dma channel
Patch-mainline: 
References: 

[ALSA] Fix adding second dma channel

dma2 is a global array. sprintf below suggests there was a typo.

Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
commit 587b51fa055e931d11be2db323fe6c3d72a874e9
tree bfb0b19e5608a1be186c0754b09d8bb16c39d7b2
parent bad45b23296f588f899fb38068ddd1e41ca3a637
author Alexey Dobriyan <adobriyan@gmail.com> Wed, 25 Jan 2006 15:30:44 +0100
committer Takashi Iwai <tiwai@suse.de> Fri, 27 Jan 2006 15:21:17 +0100

 sound/isa/gus/gusclassic.c |    2 +-
 sound/isa/opl3sa2.c        |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/sound/isa/gus/gusclassic.c b/sound/isa/gus/gusclassic.c
index d1165b9..91c2191 100644
--- a/sound/isa/gus/gusclassic.c
+++ b/sound/isa/gus/gusclassic.c
@@ -195,7 +195,7 @@ static int __init snd_gusclassic_probe(s
 			goto _err;
 	}
 	sprintf(card->longname + strlen(card->longname), " at 0x%lx, irq %d, dma %d", gus->gf1.port, xirq, xdma1);
-	if (dma2 >= 0)
+	if (xdma2 >= 0)
 		sprintf(card->longname + strlen(card->longname), "&%d", xdma2);
 
 	snd_card_set_dev(card, &pdev->dev);
diff --git a/sound/isa/opl3sa2.c b/sound/isa/opl3sa2.c
index 9dc6b20..9d84319 100644
--- a/sound/isa/opl3sa2.c
+++ b/sound/isa/opl3sa2.c
@@ -723,7 +723,7 @@ static int __devinit snd_opl3sa2_probe(s
 	}
 	sprintf(card->longname, "%s at 0x%lx, irq %d, dma %d",
 		card->shortname, chip->port, xirq, xdma1);
-	if (dma2 >= 0)
+	if (xdma2 >= 0)
 		sprintf(card->longname + strlen(card->longname), "&%d", xdma2);
 
 	return snd_card_register(card);
