From 1c93ca09863a544cec24fc8e33491f645df80e59 Mon Sep 17 00:00:00 2001
From: Johann Felix Soden <johfel@users.sourceforge.net>
Date: Thu, 30 Oct 2008 22:44:39 +0100
Subject: driver core: fix using 'ret' variable in unregister_dynamic_debug_module
Patch-mainline: 2.6.28

From: Johann Felix Soden <johfel@users.sourceforge.net>

commit 1c93ca09863a544cec24fc8e33491f645df80e59 upstream.

The 'ret' variable is assigned, but not used in the return statement. Fix this.

Signed-off-by: Johann Felix Soden <johfel@users.sourceforge.net>
Acked-by: Jason Baron <jbaron@redhat.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 lib/dynamic_printk.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/lib/dynamic_printk.c
+++ b/lib/dynamic_printk.c
@@ -135,7 +135,7 @@ int unregister_dynamic_debug_module(char
 	nr_entries--;
 out:
 	up(&debug_list_mutex);
-	return 0;
+	return ret;
 }
 EXPORT_SYMBOL_GPL(unregister_dynamic_debug_module);
 
