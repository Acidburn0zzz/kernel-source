From: Jonathan Woithe <jwoithe@physics.adelaide.edu.au>
Subject: [ALSA] HDA/ALC260: 3/7 - generalise some structures
Patch-mainline: 2.6.16-git
References: 

[ALSA] HDA/ALC260: 3/7 - generalise some structures

This patch generalises a structure added for the "fujitsu" model but which
is potentially useful for other models as well.  It turns the
"alc260_fujitsu_adc_nids" array into "alc260_dual_adc_nids"; for other
models which decide to utilise the dual ADC functionality there's really
no reason why they need to define their own list of ADC nids.

The "fujitsu" model preset is adjusted accordingly.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
commit c278e667ee80bc0ea965c9ece6b152ff10169cb5
tree c45916434e449277f6ed2c04fc5d64e42c38b7ca
parent f9d27d000d0b41c3e5e8d7e2e08afa0ed4ea83f5
author Jonathan Woithe <jwoithe@physics.adelaide.edu.au> Tue, 28 Feb 2006 12:38:35 +0100
committer Takashi Iwai <tiwai@suse.de> Tue, 28 Feb 2006 12:55:14 +0100

 sound/pci/hda/patch_realtek.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/sound/pci/hda/patch_realtek.c b/sound/pci/hda/patch_realtek.c
index 600d0a0..80ba6c7 100644
--- a/sound/pci/hda/patch_realtek.c
+++ b/sound/pci/hda/patch_realtek.c
@@ -2419,7 +2419,10 @@ static hda_nid_t alc260_hp_adc_nids[2] =
 	0x05, 0x04
 };
 
-static hda_nid_t alc260_fujitsu_adc_nids[2] = {
+/* NIDs used when simultaneous access to both ADCs makes sense.  Note that
+ * alc260_capture_mixer assumes ADC0 (nid 0x04) is the first ADC.
+ */
+static hda_nid_t alc260_dual_adc_nids[2] = {
 	/* ADC0, ADC1 */
 	0x04, 0x05
 };
@@ -3285,8 +3288,8 @@ static struct alc_config_preset alc260_p
 		.init_verbs = { alc260_fujitsu_init_verbs },
 		.num_dacs = ARRAY_SIZE(alc260_dac_nids),
 		.dac_nids = alc260_dac_nids,
-		.num_adc_nids = ARRAY_SIZE(alc260_fujitsu_adc_nids),
-		.adc_nids = alc260_fujitsu_adc_nids,
+		.num_adc_nids = ARRAY_SIZE(alc260_dual_adc_nids),
+		.adc_nids = alc260_dual_adc_nids,
 		.num_channel_mode = ARRAY_SIZE(alc260_modes),
 		.channel_mode = alc260_modes,
 		.input_mux = &alc260_fujitsu_capture_source,
