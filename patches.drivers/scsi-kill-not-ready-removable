From: Jens Axboe <axboe@suse.de>
Subject: Kill not-ready messages for removable media in SCSI
Patch-mainline: 2.6.18-rc3
References: 150175

Acked-by: 
Signed-off-by: 

--- linux-2.6.15/drivers/scsi/scsi_ioctl.c~	2006-02-17 11:41:14.000000000 +0100
+++ linux-2.6.15/drivers/scsi/scsi_ioctl.c	2006-02-17 11:41:50.000000000 +0100
@@ -110,11 +110,8 @@
 				       sshdr.asc, sshdr.ascq);
 			break;
 		case NOT_READY:	/* This happens if there is no disc in drive */
-			if (sdev->removable && (cmd[0] != TEST_UNIT_READY)) {
-				printk(KERN_INFO "Device not ready. Make sure"
-				       " there is a disc in the drive.\n");
+			if (sdev->removable)
 				break;
-			}
 		case UNIT_ATTENTION:
 			if (sdev->removable) {
 				sdev->changed = 1;
