From: Olaf Kirch <okir@suse.de>
Subject: e100: stop calling e100_hw_init early in resume
References: 145197

e100 crashes on resume from suspend-to-RAM. Apparently it dies while
referencing cb->status, which is NULL. That's because the cb's aren't
allocated until later.

Signed-off-by: Olaf Kirch <okir@suse.de>

 drivers/net/e100.c |    2 --
 1 files changed, 2 deletions(-)

Index: build/drivers/net/e100.c
===================================================================
--- build.orig/drivers/net/e100.c
+++ build/drivers/net/e100.c
@@ -2752,8 +2752,6 @@ static int e100_resume(struct pci_dev *p
 	retval = pci_enable_wake(pdev, 0, 0);
 	if (retval)
 		DPRINTK(PROBE,ERR, "Error clearing wake events\n");
-	if(e100_hw_init(nic))
-		DPRINTK(HW, ERR, "e100_hw_init failed\n");
 
 	netif_device_attach(netdev);
 	if(netif_running(netdev))
