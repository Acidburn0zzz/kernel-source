--- linux/sound/ppc/pmac.c	2004-03-17 09:27:03.000000000 +0100
+++ linux/sound/ppc/pmac.c	2004-03-17 09:26:23.000000000 +0100
@@ -665,7 +665,7 @@
 
 	/* preallocate 64k buffer */
 	snd_pcm_lib_preallocate_pages_for_all(pcm, SNDRV_DMA_TYPE_CONTINUOUS, 
-					      snd_pcm_dma_flags(GFP_KERNEL),
+					      snd_dma_continuous_data(GFP_KERNEL),
 					      64 * 1024, 64 * 1024);
 
 	return 0;
