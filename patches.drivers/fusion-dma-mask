The original code seems to have been an misguided attempt to fix
the driver for the Altix, but i think it also cannot work there.

diff -u linux-2.6.5rc1-amd64/drivers/message/fusion/mptbase.c-o linux-2.6.5rc1-amd64/drivers/message/fusion/mptbase.c
--- linux-2.6.5rc1-amd64/drivers/message/fusion/mptbase.c-o	2004-03-16 21:31:09.000000000 +0100
+++ linux-2.6.5rc1-amd64/drivers/message/fusion/mptbase.c	2004-03-18 01:34:09.000000000 +0100
@@ -1280,12 +1280,17 @@
 		return r;
 	}
 
+#if 0
+	/* broken because some code assumes that multiple calls
+	   to pci_alloc_consistent return data in the same 4GB segment. 
+	   This cannot work on machines with enough memory. */
 	if (!pci_set_consistent_dma_mask(pdev, mask))
 		dprintk((KERN_INFO MYNAM
 			": Using 64 bit consistent mask\n"));
 	else
 		dprintk((KERN_INFO MYNAM
 			": Not using 64 bit consistent mask\n"));
+#endif
 
 	ioc = kmalloc(sizeof(MPT_ADAPTER), GFP_ATOMIC);
 	if (ioc == NULL) {
