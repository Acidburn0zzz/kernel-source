Index: linux-2.6.1/scripts/Makefile.modpost
===================================================================
--- linux-2.6.1.orig/scripts/Makefile.modpost	2004-01-11 18:27:46.570087984 +0100
+++ linux-2.6.1/scripts/Makefile.modpost	2004-01-11 18:32:19.443907025 +0100
@@ -54,13 +54,13 @@ $(modules:.ko=.mod.c): __modpost ;
 # Are we building out-of-tree modules?
 
 ifeq ($(filter ../% /%,$(SUBDIRS)),)
-modver_file := modversions
+modver_file := modversions.$(shell echo $(ARCH)-$(CONFIG_CFGNAME))
 quiet_cmd_modpost = MODPOST
       cmd_modpost = scripts/modpost $(filter-out FORCE,$^) -o $(modver_file)
 __modpost: $(wildcard vmlinux) $(modules:.ko=.o) FORCE
 	$(call if_changed,modpost)
 else
-modver_file := $(wildcard modversions)
+modver_file := $(wildcard modversions.$(shell echo $(ARCH)-$(CONFIG_CFGNAME)))
 quiet_cmd_modpost = MODPOST
       cmd_modpost = scripts/modpost $^ $(if $(modver_file),-i $(modver_file))
 __modpost: $(modules:.ko=.o)
