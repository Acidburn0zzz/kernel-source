Index: Makefile
===================================================================
--- .orig/Makefile
+++ /Makefile
@@ -1,7 +1,7 @@
 VERSION = 2
 PATCHLEVEL = 6
-SUBLEVEL = 8
-EXTRAVERSION =-rc3
+SUBLEVEL = 7
+EXTRAVERSION = -$(shell echo $(CONFIG_RELEASE)-$(CONFIG_CFGNAME))
 NAME=Zonked Quokka
 
 # *DOCUMENTATION*
Index: arch/alpha/Kconfig
===================================================================
--- .orig/arch/alpha/Kconfig
+++ /arch/alpha/Kconfig
@@ -34,6 +34,7 @@ config GENERIC_ISA_DMA
 
 source "init/Kconfig"
 
+source "rpmify/Kconfig"
 
 menu "System setup"
 
Index: arch/arm/Kconfig
===================================================================
--- .orig/arch/arm/Kconfig
+++ /arch/arm/Kconfig
@@ -827,3 +827,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/cris/Kconfig
===================================================================
--- .orig/arch/cris/Kconfig
+++ /arch/cris/Kconfig
@@ -216,3 +216,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/h8300/Kconfig
===================================================================
--- .orig/arch/h8300/Kconfig
+++ /arch/h8300/Kconfig
@@ -259,3 +259,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/i386/Kconfig
===================================================================
--- .orig/arch/i386/Kconfig
+++ /arch/i386/Kconfig
@@ -1316,6 +1316,8 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
 config X86_SMP
 	bool
 	depends on SMP && !X86_VOYAGER
Index: arch/ia64/Kconfig
===================================================================
--- .orig/arch/ia64/Kconfig
+++ /arch/ia64/Kconfig
@@ -527,3 +527,6 @@ endmenu
 source "security/Kconfig"
 
 source "crypto/Kconfig"
+
+source "rpmify/Kconfig"
+
Index: arch/m68k/Kconfig
===================================================================
--- .orig/arch/m68k/Kconfig
+++ /arch/m68k/Kconfig
@@ -696,3 +696,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/m68knommu/Kconfig
===================================================================
--- .orig/arch/m68knommu/Kconfig
+++ /arch/m68knommu/Kconfig
@@ -572,3 +572,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/parisc/Kconfig
===================================================================
--- .orig/arch/parisc/Kconfig
+++ /arch/parisc/Kconfig
@@ -229,3 +229,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/ppc/Kconfig
===================================================================
--- .orig/arch/ppc/Kconfig
+++ /arch/ppc/Kconfig
@@ -1387,3 +1387,6 @@ endmenu
 source "security/Kconfig"
 
 source "crypto/Kconfig"
+
+source "rpmify/Kconfig"
+
Index: arch/ppc64/Kconfig
===================================================================
--- .orig/arch/ppc64/Kconfig
+++ /arch/ppc64/Kconfig
@@ -442,3 +442,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/s390/Kconfig
===================================================================
--- .orig/arch/s390/Kconfig
+++ /arch/s390/Kconfig
@@ -440,3 +440,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/sh/Kconfig
===================================================================
--- .orig/arch/sh/Kconfig
+++ /arch/sh/Kconfig
@@ -900,3 +900,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/sparc/Kconfig
===================================================================
--- .orig/arch/sparc/Kconfig
+++ /arch/sparc/Kconfig
@@ -456,3 +456,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/sparc64/Kconfig
===================================================================
--- .orig/arch/sparc64/Kconfig
+++ /arch/sparc64/Kconfig
@@ -714,3 +714,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: arch/um/Kconfig
===================================================================
--- .orig/arch/um/Kconfig
+++ /arch/um/Kconfig
@@ -269,3 +269,5 @@ config GCOV
 
 endmenu
 
+source "rpmify/Kconfig"
+
Index: arch/v850/Kconfig
===================================================================
--- .orig/arch/v850/Kconfig
+++ /arch/v850/Kconfig
@@ -340,4 +340,6 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
 #############################################################################
Index: arch/x86_64/Kconfig
===================================================================
--- .orig/arch/x86_64/Kconfig
+++ /arch/x86_64/Kconfig
@@ -505,3 +505,5 @@ source "crypto/Kconfig"
 
 source "lib/Kconfig"
 
+source "rpmify/Kconfig"
+
Index: rpmify/Kconfig
===================================================================
--- .orig/rpmify/Kconfig
+++ /rpmify/Kconfig
@@ -0,0 +1,32 @@
+#
+# Build options
+#
+
+menu "Build options"
+
+config SUSE_KERNEL
+	bool
+	default y
+
+config CFGNAME
+	string "Configuration name"
+	default ""
+	help
+	  The name of the kernel configuration used. The configuration
+	  files provided in arch/$ARCH/defconfig.$CFGNAME set the
+	  CONFIG_CFGNAME option to $CFGNAME. The configuration name is
+	  part of the EXTRAVERSION.
+
+config RELEASE
+	string "Release number"
+	default "0"
+	help
+	  The release number of the kernel sources. The configuration
+	  files provided in arch/$ARCH/defconfig.$CFGNAME set the
+	  CONFIG_RELEASE option to the RPM release number of the
+	  kernel source package. The release number of the kernel
+	  sources and of all binary kernel packages built from those
+	  sources should be the same. The release number is part of
+	  the EXTRAVERSION.
+
+endmenu
