From: Petr Tesarik <ptesarik@suse.com>
Subject: kabi: s390: enum interruption_class
Patch-mainline: never, kabi
References: jsc#SLE-5789 FATE#327042 bsc#1134730 LTC#173388

Keep enum values compatible with kernels built without:
- patches.arch/s390-show-statistics-for-msi-irqs
- patches.arch/s390-pci-gather-statistics-for-floating-vs-directed-irqs

Note that NR_ARCH_IRQS actually changes, so if some code makes actual
use of these constants, it will not be able to process PCI directed
interrupts. This sounds fair, as this is the added feature.

Signed-off-by: Petr Tesarik <ptesarik@suse.com>

---
 arch/s390/include/asm/irq.h |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

--- a/arch/s390/include/asm/irq.h
+++ b/arch/s390/include/asm/irq.h
@@ -46,6 +46,7 @@ enum interruption_class {
 	IRQEXT_CMC,
 	IRQEXT_FTP,
 	IRQIO_CIO,
+	IRQIO_QAI,
 	IRQIO_DAS,
 	IRQIO_C15,
 	IRQIO_C70,
@@ -53,17 +54,22 @@ enum interruption_class {
 	IRQIO_VMR,
 	IRQIO_LCS,
 	IRQIO_CTC,
+	IRQIO_APB,
 	IRQIO_ADM,
 	IRQIO_CSC,
-	IRQIO_VIR,
-	IRQIO_QAI,
-	IRQIO_APB,
+#ifdef __GENKSYMS__
+	IRQIO_PCI,
+#else
 	IRQIO_PCF,
-	IRQIO_PCD,
+#endif
 	IRQIO_MSI,
+	IRQIO_VIR,
 	IRQIO_VAI,
 	NMI_NMI,
 	CPU_RST,
+#ifndef __GENKSYMS__
+	IRQIO_PCD,
+#endif
 	NR_ARCH_IRQS
 };
 
