From: Petr Tesarik <ptesarik@suse.com>
Subject: kABI: protect functions using struct net_generic
Patch-mainline: never, kabi
References: bsc#1129845 LTC#176252

Upstream commit 64e28b52c7a6616217bee67ba2ad886f478f9737 includes
<net/netns/generic.h> into net/smc/af_smc.c, so struct net_generic
is now fully defined, which breaks the algorithm in genksyms.

Signed-off-by: Petr Tesarik <ptesarik@suse.com>
---
 net/smc/af_smc.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/net/smc/af_smc.c
+++ b/net/smc/af_smc.c
@@ -31,7 +31,9 @@
 #include <asm/ioctls.h>
 
 #include <net/net_namespace.h>
+#ifndef __GENKSYMS__
 #include <net/netns/generic.h>
+#endif
 #include "smc_netns.h"
 
 #include "smc.h"
