From: Petr Tesarik <ptesarik@suse.com>
Subject: kabi: Mask no_vf_scan in struct pci_dev
Patch-mainline: never, kabi
References: jsc#SLE-5803 FATE#327056

There is a 10-bit hole after non_compliant_bars, so this field can be
simply masked for genksyms.

Signed-off-by: Petr Tesarik <ptesarik@suse.com>
---
 include/linux/pci.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/linux/pci.h
+++ b/include/linux/pci.h
@@ -410,7 +410,9 @@ struct pci_dev {
 	unsigned int	irq_managed:1;
 	unsigned int	has_secondary_link:1;
 	unsigned int	non_compliant_bars:1;	/* broken BARs; ignore them */
+#ifndef __GENKSYMS__
 	unsigned int	no_vf_scan:1;		/* Don't scan for VFs after IOV enablement */
+#endif
 	pci_dev_flags_t dev_flags;
 	atomic_t	enable_cnt;	/* pci_enable_device has been called */
 
