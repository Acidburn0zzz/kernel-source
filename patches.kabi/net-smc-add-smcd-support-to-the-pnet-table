From: Petr Tesarik <ptesarik@suse.com>
Subject: kABI: protect struct smcd_dev
Patch-mainline: never, kabi
References: bsc#1129845 LTC#176252

Upstream commit f3d74b2245a0e8b994f53df1d7982d367fc63dfe adds a field
at the end struct smcd_dev. Since this struct is allocated dynamically
by smcd_alloc_dev() and never embedded, it is safe to mask this change.

Signed-off-by: Petr Tesarik <ptesarik@suse.com>
---
 include/net/smc.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/net/smc.h
+++ b/include/net/smc.h
@@ -73,7 +73,9 @@ struct smcd_dev {
 	struct list_head vlan;
 	struct workqueue_struct *event_wq;
 	u8 pnetid[SMC_MAX_PNETID_LEN];
+#ifndef __GENKSYMS__
 	bool pnetid_by_user;
+#endif
 };
 
 struct smcd_dev *smcd_alloc_dev(struct device *parent, const char *name,
