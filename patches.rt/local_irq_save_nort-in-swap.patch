Subject: Linux-RT 2.6.25-rt
From: http://www.kernel.org/pub/linux/kernel/projects/rt/
Acked-by: Sven-Thorsten Dietrich <sdietrich@suse.de>
---
 mm/swap.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

Index: linux-2.6.25.2-rt1/mm/swap.c
===================================================================
--- linux-2.6.25.2-rt1.orig/mm/swap.c	2008-05-08 16:19:28.000000000 -0400
+++ linux-2.6.25.2-rt1/mm/swap.c	2008-05-08 16:19:36.000000000 -0400
@@ -303,9 +303,9 @@ static void drain_cpu_pagevecs(int cpu)
 		unsigned long flags;
 
 		/* No harm done if a racing interrupt already did this */
-		local_irq_save(flags);
+		local_irq_save_nort(flags);
 		pagevec_move_tail(pvec);
-		local_irq_restore(flags);
+		local_irq_restore_nort(flags);
 	}
 	swap_per_cpu_unlock(lru_rotate_pvecs, cpu);
 }
